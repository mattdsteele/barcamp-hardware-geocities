/*! Built with IMPACT - impactjs.com */

(function(window){"use strict";Number.prototype.map=function(istart,istop,ostart,ostop){return ostart+(ostop-ostart)*((this-istart)/(istop-istart));};Number.prototype.limit=function(min,max){return Math.min(max,Math.max(min,this));};Number.prototype.round=function(precision){precision=Math.pow(10,precision||0);return Math.round(this*precision)/precision;};Number.prototype.floor=function(){return Math.floor(this);};Number.prototype.ceil=function(){return Math.ceil(this);};Number.prototype.toInt=function(){return(this|0);};Number.prototype.toRad=function(){return(this/180)*Math.PI;};Number.prototype.toDeg=function(){return(this*180)/Math.PI;};Array.prototype.erase=function(item){for(var i=this.length;i--;){if(this[i]===item){this.splice(i,1);}}
return this;};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)];};Function.prototype.bind=Function.prototype.bind||function(oThis){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");}
var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply((this instanceof fNOP&&oThis?this:oThis),aArgs.concat(Array.prototype.slice.call(arguments)));};fNOP.prototype=this.prototype;fBound.prototype=new fNOP();return fBound;};window.ig={game:null,debug:null,version:'1.21',global:window,modules:{},resources:[],ready:false,baked:false,nocache:'',ua:{},prefix:(window.ImpactPrefix||''),lib:'lib/',_current:null,_loadQueue:[],_waitForOnload:0,$:function(selector){return selector.charAt(0)=='#'?document.getElementById(selector.substr(1)):document.getElementsByTagName(selector);},$new:function(name){return document.createElement(name);},copy:function(object){if(!object||typeof(object)!='object'||object instanceof HTMLElement||object instanceof ig.Class){return object;}
else if(object instanceof Array){var c=[];for(var i=0,l=object.length;i<l;i++){c[i]=ig.copy(object[i]);}
return c;}
else{var c={};for(var i in object){c[i]=ig.copy(object[i]);}
return c;}},merge:function(original,extended){for(var key in extended){var ext=extended[key];if(typeof(ext)!='object'||ext instanceof HTMLElement||ext instanceof ig.Class){original[key]=ext;}
else{if(!original[key]||typeof(original[key])!='object'){original[key]=(ext instanceof Array)?[]:{};}
ig.merge(original[key],ext);}}
return original;},ksort:function(obj){if(!obj||typeof(obj)!='object'){return[];}
var keys=[],values=[];for(var i in obj){keys.push(i);}
keys.sort();for(var i=0;i<keys.length;i++){values.push(obj[keys[i]]);}
return values;},setVendorAttribute:function(el,attr,val){var uc=attr.charAt(0).toUpperCase()+attr.substr(1);el[attr]=el['ms'+uc]=el['moz'+uc]=el['webkit'+uc]=el['o'+uc]=val;},getVendorAttribute:function(el,attr){var uc=attr.charAt(0).toUpperCase()+attr.substr(1);return el[attr]||el['ms'+uc]||el['moz'+uc]||el['webkit'+uc]||el['o'+uc];},normalizeVendorAttribute:function(el,attr){var prefixedVal=ig.getVendorAttribute(el,attr);if(!el[attr]&&prefixedVal){el[attr]=prefixedVal;}},getImagePixels:function(image,x,y,width,height){var canvas=ig.$new('canvas');canvas.width=image.width;canvas.height=image.height;var ctx=canvas.getContext('2d');var ratio=ig.getVendorAttribute(ctx,'backingStorePixelRatio')||1;ig.normalizeVendorAttribute(ctx,'getImageDataHD');var realWidth=image.width/ratio,realHeight=image.height/ratio;canvas.width=Math.ceil(realWidth);canvas.height=Math.ceil(realHeight);ctx.drawImage(image,0,0,realWidth,realHeight);return(ratio===1)?ctx.getImageData(x,y,width,height):ctx.getImageDataHD(x,y,width,height);},module:function(name){if(ig._current){throw("Module '"+ig._current.name+"' defines nothing");}
if(ig.modules[name]&&ig.modules[name].body){throw("Module '"+name+"' is already defined");}
ig._current={name:name,requires:[],loaded:false,body:null};ig.modules[name]=ig._current;ig._loadQueue.push(ig._current);return ig;},requires:function(){ig._current.requires=Array.prototype.slice.call(arguments);return ig;},defines:function(body){ig._current.body=body;ig._current=null;ig._initDOMReady();},addResource:function(resource){ig.resources.push(resource);},setNocache:function(set){ig.nocache=set?'?'+Date.now():'';},log:function(){},assert:function(condition,msg){},show:function(name,number){},mark:function(msg,color){},_loadScript:function(name,requiredFrom){ig.modules[name]={name:name,requires:[],loaded:false,body:null};ig._waitForOnload++;var path=ig.prefix+ig.lib+name.replace(/\./g,'/')+'.js'+ig.nocache;var script=ig.$new('script');script.type='text/javascript';script.src=path;script.onload=function(){ig._waitForOnload--;ig._execModules();};script.onerror=function(){throw('Failed to load module '+name+' at '+path+' '+'required from '+requiredFrom);};ig.$('head')[0].appendChild(script);},_execModules:function(){var modulesLoaded=false;for(var i=0;i<ig._loadQueue.length;i++){var m=ig._loadQueue[i];var dependenciesLoaded=true;for(var j=0;j<m.requires.length;j++){var name=m.requires[j];if(!ig.modules[name]){dependenciesLoaded=false;ig._loadScript(name,m.name);}
else if(!ig.modules[name].loaded){dependenciesLoaded=false;}}
if(dependenciesLoaded&&m.body){ig._loadQueue.splice(i,1);m.loaded=true;m.body();modulesLoaded=true;i--;}}
if(modulesLoaded){ig._execModules();}
else if(!ig.baked&&ig._waitForOnload==0&&ig._loadQueue.length!=0){var unresolved=[];for(var i=0;i<ig._loadQueue.length;i++){var unloaded=[];var requires=ig._loadQueue[i].requires;for(var j=0;j<requires.length;j++){var m=ig.modules[requires[j]];if(!m||!m.loaded){unloaded.push(requires[j]);}}
unresolved.push(ig._loadQueue[i].name+' (requires: '+unloaded.join(', ')+')');}
throw('Unresolved (circular?) dependencies. '+"Most likely there's a name/path mismatch for one of the listed modules:\n"+
unresolved.join('\n'));}},_DOMReady:function(){if(!ig.modules['dom.ready'].loaded){if(!document.body){return setTimeout(ig._DOMReady,13);}
ig.modules['dom.ready'].loaded=true;ig._waitForOnload--;ig._execModules();}
return 0;},_boot:function(){if(document.location.href.match(/\?nocache/)){ig.setNocache(true);}
ig.ua.pixelRatio=window.devicePixelRatio||1;ig.ua.viewport={width:window.innerWidth,height:window.innerHeight};ig.ua.screen={width:window.screen.availWidth*ig.ua.pixelRatio,height:window.screen.availHeight*ig.ua.pixelRatio};ig.ua.iPhone=/iPhone/i.test(navigator.userAgent);ig.ua.iPhone4=(ig.ua.iPhone&&ig.ua.pixelRatio==2);ig.ua.iPad=/iPad/i.test(navigator.userAgent);ig.ua.android=/android/i.test(navigator.userAgent);ig.ua.iOS=ig.ua.iPhone||ig.ua.iPad;ig.ua.mobile=ig.ua.iOS||ig.ua.android;},_initDOMReady:function(){if(ig.modules['dom.ready']){ig._execModules();return;}
ig._boot();ig.modules['dom.ready']={requires:[],loaded:false,body:null};ig._waitForOnload++;if(document.readyState==='complete'){ig._DOMReady();}
else{document.addEventListener('DOMContentLoaded',ig._DOMReady,false);window.addEventListener('load',ig._DOMReady,false);}}};ig.normalizeVendorAttribute(window,'requestAnimationFrame');if(window.requestAnimationFrame){var next=1,anims={};window.ig.setAnimation=function(callback,element){var current=next++;anims[current]=true;var animate=function(){if(!anims[current]){return;}
window.requestAnimationFrame(animate,element);callback();};window.requestAnimationFrame(animate,element);return current;};window.ig.clearAnimation=function(id){delete anims[id];};}
else{window.ig.setAnimation=function(callback,element){return window.setInterval(callback,1000/60);};window.ig.clearAnimation=function(id){window.clearInterval(id);};}
var initializing=false,fnTest=/xyz/.test(function(){xyz;})?/\bparent\b/:/.*/;window.ig.Class=function(){};var inject=function(prop){var proto=this.prototype;var parent={};for(var name in prop){if(typeof(prop[name])=="function"&&typeof(proto[name])=="function"&&fnTest.test(prop[name])){parent[name]=proto[name];proto[name]=(function(name,fn){return function(){var tmp=this.parent;this.parent=parent[name];var ret=fn.apply(this,arguments);this.parent=tmp;return ret;};})(name,prop[name]);}
else{proto[name]=prop[name];}}};window.ig.Class.extend=function(prop){var parent=this.prototype;initializing=true;var prototype=new this();initializing=false;for(var name in prop){if(typeof(prop[name])=="function"&&typeof(parent[name])=="function"&&fnTest.test(prop[name])){prototype[name]=(function(name,fn){return function(){var tmp=this.parent;this.parent=parent[name];var ret=fn.apply(this,arguments);this.parent=tmp;return ret;};})(name,prop[name]);}
else{prototype[name]=prop[name];}}
function Class(){if(!initializing){if(this.staticInstantiate){var obj=this.staticInstantiate.apply(this,arguments);if(obj){return obj;}}
for(var p in this){if(typeof(this[p])=='object'){this[p]=ig.copy(this[p]);}}
if(this.init){this.init.apply(this,arguments);}}
return this;}
Class.prototype=prototype;Class.prototype.constructor=Class;Class.extend=window.ig.Class.extend;Class.inject=inject;return Class;};})(window);

// lib/impact/image.js
ig.baked=true;ig.module('impact.image').defines(function(){"use strict";ig.Image=ig.Class.extend({data:null,width:0,height:0,loaded:false,failed:false,loadCallback:null,path:'',staticInstantiate:function(path){return ig.Image.cache[path]||null;},init:function(path){this.path=path;this.load();},load:function(loadCallback){if(this.loaded){if(loadCallback){loadCallback(this.path,true);}
return;}
else if(!this.loaded&&ig.ready){this.loadCallback=loadCallback||null;this.data=new Image();this.data.onload=this.onload.bind(this);this.data.onerror=this.onerror.bind(this);this.data.src=ig.prefix+this.path+ig.nocache;}
else{ig.addResource(this);}
ig.Image.cache[this.path]=this;},reload:function(){this.loaded=false;this.data=new Image();this.data.onload=this.onload.bind(this);this.data.src=this.path+'?'+Date.now();},onload:function(event){this.width=this.data.width;this.height=this.data.height;this.loaded=true;if(ig.system.scale!=1){this.resize(ig.system.scale);}
if(this.loadCallback){this.loadCallback(this.path,true);}},onerror:function(event){this.failed=true;if(this.loadCallback){this.loadCallback(this.path,false);}},resize:function(scale){var origPixels=ig.getImagePixels(this.data,0,0,this.width,this.height);var widthScaled=this.width*scale;var heightScaled=this.height*scale;var scaled=ig.$new('canvas');scaled.width=widthScaled;scaled.height=heightScaled;var scaledCtx=scaled.getContext('2d');var scaledPixels=scaledCtx.getImageData(0,0,widthScaled,heightScaled);for(var y=0;y<heightScaled;y++){for(var x=0;x<widthScaled;x++){var index=(Math.floor(y/scale)*this.width+Math.floor(x/scale))*4;var indexScaled=(y*widthScaled+x)*4;scaledPixels.data[indexScaled]=origPixels.data[index];scaledPixels.data[indexScaled+1]=origPixels.data[index+1];scaledPixels.data[indexScaled+2]=origPixels.data[index+2];scaledPixels.data[indexScaled+3]=origPixels.data[index+3];}}
scaledCtx.putImageData(scaledPixels,0,0);this.data=scaled;},draw:function(targetX,targetY,sourceX,sourceY,width,height){if(!this.loaded){return;}
var scale=ig.system.scale;sourceX=sourceX?sourceX*scale:0;sourceY=sourceY?sourceY*scale:0;width=(width?width:this.width)*scale;height=(height?height:this.height)*scale;ig.system.context.drawImage(this.data,sourceX,sourceY,width,height,ig.system.getDrawPos(targetX),ig.system.getDrawPos(targetY),width,height);ig.Image.drawCount++;},drawTile:function(targetX,targetY,tile,tileWidth,tileHeight,flipX,flipY){tileHeight=tileHeight?tileHeight:tileWidth;if(!this.loaded||tileWidth>this.width||tileHeight>this.height){return;}
var scale=ig.system.scale;var tileWidthScaled=Math.floor(tileWidth*scale);var tileHeightScaled=Math.floor(tileHeight*scale);var scaleX=flipX?-1:1;var scaleY=flipY?-1:1;if(flipX||flipY){ig.system.context.save();ig.system.context.scale(scaleX,scaleY);}
ig.system.context.drawImage(this.data,(Math.floor(tile*tileWidth)%this.width)*scale,(Math.floor(tile*tileWidth/this.width)*tileHeight)*scale,tileWidthScaled,tileHeightScaled,ig.system.getDrawPos(targetX)*scaleX-(flipX?tileWidthScaled:0),ig.system.getDrawPos(targetY)*scaleY-(flipY?tileHeightScaled:0),tileWidthScaled,tileHeightScaled);if(flipX||flipY){ig.system.context.restore();}
ig.Image.drawCount++;}});ig.Image.drawCount=0;ig.Image.cache={};ig.Image.reloadCache=function(){for(var path in ig.Image.cache){ig.Image.cache[path].reload();}};});

// lib/impact/font.js
ig.baked=true;ig.module('impact.font').requires('impact.image').defines(function(){"use strict";ig.Font=ig.Image.extend({widthMap:[],indices:[],firstChar:32,alpha:1,letterSpacing:1,lineSpacing:0,onload:function(ev){this._loadMetrics(this.data);this.parent(ev);},widthForString:function(text){if(text.indexOf('\n')!==-1){var lines=text.split('\n');var width=0;for(var i=0;i<lines.length;i++){width=Math.max(width,this._widthForLine(lines[i]));}
return width;}
else{return this._widthForLine(text);}},_widthForLine:function(text){var width=0;for(var i=0;i<text.length;i++){width+=this.widthMap[text.charCodeAt(i)-this.firstChar]+this.letterSpacing;}
return width;},heightForString:function(text){return text.split('\n').length*(this.height+this.lineSpacing);},draw:function(text,x,y,align){if(typeof(text)!='string'){text=text.toString();}
if(text.indexOf('\n')!==-1){var lines=text.split('\n');var lineHeight=this.height+this.lineSpacing;for(var i=0;i<lines.length;i++){this.draw(lines[i],x,y+i*lineHeight,align);}
return;}
if(align==ig.Font.ALIGN.RIGHT||align==ig.Font.ALIGN.CENTER){var width=this._widthForLine(text);x-=align==ig.Font.ALIGN.CENTER?width/2:width;}
if(this.alpha!==1){ig.system.context.globalAlpha=this.alpha;}
for(var i=0;i<text.length;i++){var c=text.charCodeAt(i);x+=this._drawChar(c-this.firstChar,x,y);}
if(this.alpha!==1){ig.system.context.globalAlpha=1;}
ig.Image.drawCount+=text.length;},_drawChar:function(c,targetX,targetY){if(!this.loaded||c<0||c>=this.indices.length){return 0;}
var scale=ig.system.scale;var charX=this.indices[c]*scale;var charY=0;var charWidth=this.widthMap[c]*scale;var charHeight=(this.height-2)*scale;ig.system.context.drawImage(this.data,charX,charY,charWidth,charHeight,ig.system.getDrawPos(targetX),ig.system.getDrawPos(targetY),charWidth,charHeight);return this.widthMap[c]+this.letterSpacing;},_loadMetrics:function(image){this.height=image.height-1;this.widthMap=[];this.indices=[];var px=ig.getImagePixels(image,0,image.height-1,image.width,1);var currentChar=0;var currentWidth=0;for(var x=0;x<image.width;x++){var index=x*4+3;if(px.data[index]>127){currentWidth++;}
else if(px.data[index]==0&&currentWidth){this.widthMap.push(currentWidth);this.indices.push(x-currentWidth);currentChar++;currentWidth=0;}}
this.widthMap.push(currentWidth);this.indices.push(x-currentWidth);}});ig.Font.ALIGN={LEFT:0,RIGHT:1,CENTER:2};});

// lib/impact/sound.js
ig.baked=true;ig.module('impact.sound').defines(function(){"use strict";ig.SoundManager=ig.Class.extend({clips:{},volume:1,format:null,init:function(){if(!ig.Sound.enabled||!window.Audio){ig.Sound.enabled=false;return;}
var probe=new Audio();for(var i=0;i<ig.Sound.use.length;i++){var format=ig.Sound.use[i];if(probe.canPlayType(format.mime)){this.format=format;break;}}
if(!this.format){ig.Sound.enabled=false;}},load:function(path,multiChannel,loadCallback){var realPath=ig.prefix+path.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[path]){if(multiChannel&&this.clips[path].length<ig.Sound.channels){for(var i=this.clips[path].length;i<ig.Sound.channels;i++){var a=new Audio(realPath);a.load();this.clips[path].push(a);}}
return this.clips[path][0];}
var clip=new Audio(realPath);if(loadCallback){clip.addEventListener('canplaythrough',function cb(ev){clip.removeEventListener('canplaythrough',cb,false);loadCallback(path,true,ev);},false);clip.addEventListener('error',function(ev){loadCallback(path,false,ev);},false);}
clip.preload='auto';clip.load();this.clips[path]=[clip];if(multiChannel){for(var i=1;i<ig.Sound.channels;i++){var a=new Audio(realPath);a.load();this.clips[path].push(a);}}
return clip;},get:function(path){var channels=this.clips[path];for(var i=0,clip;clip=channels[i++];){if(clip.paused||clip.ended){if(clip.ended){clip.currentTime=0;}
return clip;}}
channels[0].pause();channels[0].currentTime=0;return channels[0];}});ig.Music=ig.Class.extend({tracks:[],namedTracks:{},currentTrack:null,currentIndex:0,random:false,_volume:1,_loop:false,_fadeInterval:0,_fadeTimer:null,_endedCallbackBound:null,init:function(){this._endedCallbackBound=this._endedCallback.bind(this);if(Object.defineProperty){Object.defineProperty(this,"volume",{get:this.getVolume.bind(this),set:this.setVolume.bind(this)});Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)});}
else if(this.__defineGetter__){this.__defineGetter__('volume',this.getVolume.bind(this));this.__defineSetter__('volume',this.setVolume.bind(this));this.__defineGetter__('loop',this.getLooping.bind(this));this.__defineSetter__('loop',this.setLooping.bind(this));}},add:function(music,name){if(!ig.Sound.enabled){return;}
var path=music instanceof ig.Sound?music.path:music;var track=ig.soundManager.load(path,false);track.loop=this._loop;track.volume=this._volume;track.addEventListener('ended',this._endedCallbackBound,false);this.tracks.push(track);if(name){this.namedTracks[name]=track;}
if(!this.currentTrack){this.currentTrack=track;}},next:function(){if(!this.tracks.length){return;}
this.stop();this.currentIndex=this.random?Math.floor(Math.random()*this.tracks.length):(this.currentIndex+1)%this.tracks.length;this.currentTrack=this.tracks[this.currentIndex];this.play();},pause:function(){if(!this.currentTrack){return;}
this.currentTrack.pause();},stop:function(){if(!this.currentTrack){return;}
this.currentTrack.pause();this.currentTrack.currentTime=0;},play:function(name){if(name&&this.namedTracks[name]){var newTrack=this.namedTracks[name];if(newTrack!=this.currentTrack){this.stop();this.currentTrack=newTrack;}}
else if(!this.currentTrack){return;}
this.currentTrack.play();},getLooping:function(){return this._loop;},setLooping:function(l){this._loop=l;for(var i in this.tracks){this.tracks[i].loop=l;}},getVolume:function(){return this._volume;},setVolume:function(v){this._volume=v.limit(0,1);for(var i in this.tracks){this.tracks[i].volume=this._volume;}},fadeOut:function(time){if(!this.currentTrack){return;}
clearInterval(this._fadeInterval);this.fadeTimer=new ig.Timer(time);this._fadeInterval=setInterval(this._fadeStep.bind(this),50);},_fadeStep:function(){var v=this.fadeTimer.delta().map(-this.fadeTimer.target,0,1,0).limit(0,1)*this._volume;if(v<=0.01){this.stop();this.currentTrack.volume=this._volume;clearInterval(this._fadeInterval);}
else{this.currentTrack.volume=v;}},_endedCallback:function(){if(this._loop){this.play();}
else{this.next();}}});ig.Sound=ig.Class.extend({path:'',volume:1,currentClip:null,multiChannel:true,init:function(path,multiChannel){this.path=path;this.multiChannel=(multiChannel!==false);this.load();},load:function(loadCallback){if(!ig.Sound.enabled){if(loadCallback){loadCallback(this.path,true);}
return;}
if(ig.ready){ig.soundManager.load(this.path,this.multiChannel,loadCallback);}
else{ig.addResource(this);}},play:function(){if(!ig.Sound.enabled){return;}
this.currentClip=ig.soundManager.get(this.path);this.currentClip.volume=ig.soundManager.volume*this.volume;this.currentClip.play();},stop:function(){if(this.currentClip){this.currentClip.pause();this.currentClip.currentTime=0;}}});ig.Sound.FORMAT={MP3:{ext:'mp3',mime:'audio/mpeg'},M4A:{ext:'m4a',mime:'audio/mp4; codecs=mp4a'},OGG:{ext:'ogg',mime:'audio/ogg; codecs=vorbis'},WEBM:{ext:'webm',mime:'audio/webm; codecs=vorbis'},CAF:{ext:'caf',mime:'audio/x-caf'}};ig.Sound.use=[ig.Sound.FORMAT.OGG,ig.Sound.FORMAT.MP3];ig.Sound.channels=4;ig.Sound.enabled=true;});

// lib/impact/loader.js
ig.baked=true;ig.module('impact.loader').requires('impact.image','impact.font','impact.sound').defines(function(){"use strict";ig.Loader=ig.Class.extend({resources:[],gameClass:null,status:0,done:false,_unloaded:[],_drawStatus:0,_intervalId:0,_loadCallbackBound:null,init:function(gameClass,resources){this.gameClass=gameClass;this.resources=resources;this._loadCallbackBound=this._loadCallback.bind(this);for(var i=0;i<this.resources.length;i++){this._unloaded.push(this.resources[i].path);}},load:function(){ig.system.clear('#000');if(!this.resources.length){this.end();return;}
for(var i=0;i<this.resources.length;i++){this.loadResource(this.resources[i]);}
this._intervalId=setInterval(this.draw.bind(this),16);},loadResource:function(res){res.load(this._loadCallbackBound);},end:function(){if(this.done){return;}
this.done=true;clearInterval(this._intervalId);ig.system.setGame(this.gameClass);},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/5;var s=ig.system.scale;var w=ig.system.width*0.6;var h=ig.system.height*0.1;var x=ig.system.width*0.5-w/2;var y=ig.system.height*0.5-h/2;ig.system.context.fillStyle='#000';ig.system.context.fillRect(0,0,480,320);ig.system.context.fillStyle='#fff';ig.system.context.fillRect(x*s,y*s,w*s,h*s);ig.system.context.fillStyle='#000';ig.system.context.fillRect(x*s+s,y*s+s,w*s-s-s,h*s-s-s);ig.system.context.fillStyle='#fff';ig.system.context.fillRect(x*s,y*s,w*s*this._drawStatus,h*s);},_loadCallback:function(path,status){if(status){this._unloaded.erase(path);}
else{throw('Failed to load resource: '+path);}
this.status=1-(this._unloaded.length/this.resources.length);if(this._unloaded.length==0){setTimeout(this.end.bind(this),250);}}});});

// lib/impact/timer.js
ig.baked=true;ig.module('impact.timer').defines(function(){"use strict";ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,init:function(seconds){this.base=ig.Timer.time;this.last=ig.Timer.time;this.target=seconds||0;},set:function(seconds){this.target=seconds||0;this.base=ig.Timer.time;this.pausedAt=0;},reset:function(){this.base=ig.Timer.time;this.pausedAt=0;},tick:function(){var delta=ig.Timer.time-this.last;this.last=ig.Timer.time;return(this.pausedAt?0:delta);},delta:function(){return(this.pausedAt||ig.Timer.time)-this.base-this.target;},pause:function(){if(!this.pausedAt){this.pausedAt=ig.Timer.time;}},unpause:function(){if(this.pausedAt){this.base+=ig.Timer.time-this.pausedAt;this.pausedAt=0;}}});ig.Timer._last=0;ig.Timer.time=Number.MIN_VALUE;ig.Timer.timeScale=1;ig.Timer.maxStep=0.05;ig.Timer.step=function(){var current=Date.now();var delta=(current-ig.Timer._last)/1000;ig.Timer.time+=Math.min(delta,ig.Timer.maxStep)*ig.Timer.timeScale;ig.Timer._last=current;};});

// lib/impact/system.js
ig.baked=true;ig.module('impact.system').requires('impact.timer','impact.image').defines(function(){"use strict";ig.System=ig.Class.extend({fps:30,width:320,height:240,realWidth:320,realHeight:240,scale:1,tick:0,animationId:0,newGameClass:null,running:false,delegate:null,clock:null,canvas:null,context:null,init:function(canvasId,fps,width,height,scale){this.fps=fps;this.clock=new ig.Timer();this.canvas=ig.$(canvasId);this.resize(width,height,scale);this.context=this.canvas.getContext('2d');this.getDrawPos=ig.System.drawMode;if(this.scale!=1){ig.System.scaleMode=ig.System.SCALE.CRISP;}
ig.System.scaleMode(this.canvas,this.context);},resize:function(width,height,scale){this.width=width;this.height=height;this.scale=scale||this.scale;this.realWidth=this.width*this.scale;this.realHeight=this.height*this.scale;this.canvas.width=this.realWidth;this.canvas.height=this.realHeight;},setGame:function(gameClass){if(this.running){this.newGameClass=gameClass;}
else{this.setGameNow(gameClass);}},setGameNow:function(gameClass){ig.game=new(gameClass)();ig.system.setDelegate(ig.game);},setDelegate:function(object){if(typeof(object.run)=='function'){this.delegate=object;this.startRunLoop();}else{throw('System.setDelegate: No run() function in object');}},stopRunLoop:function(){ig.clearAnimation(this.animationId);this.running=false;},startRunLoop:function(){this.stopRunLoop();this.animationId=ig.setAnimation(this.run.bind(this),this.canvas);this.running=true;},clear:function(color){this.context.fillStyle=color;this.context.fillRect(0,0,this.realWidth,this.realHeight);},run:function(){ig.Timer.step();this.tick=this.clock.tick();this.delegate.run();ig.input.clearPressed();if(this.newGameClass){this.setGameNow(this.newGameClass);this.newGameClass=null;}},getDrawPos:null});ig.System.DRAW={AUTHENTIC:function(p){return Math.round(p)*this.scale;},SMOOTH:function(p){return Math.round(p*this.scale);},SUBPIXEL:function(p){return p*this.scale;}};ig.System.drawMode=ig.System.DRAW.SMOOTH;ig.System.SCALE={CRISP:function(canvas,context){ig.setVendorAttribute(context,'imageSmoothingEnabled',false);canvas.style.imageRendering='-moz-crisp-edges';canvas.style.imageRendering='-o-crisp-edges';canvas.style.imageRendering='-webkit-optimize-contrast';canvas.style.imageRendering='crisp-edges';canvas.style.msInterpolationMode='nearest-neighbor';},SMOOTH:function(canvas,context){ig.setVendorAttribute(context,'imageSmoothingEnabled',true);canvas.style.imageRendering='';canvas.style.msInterpolationMode='';}};ig.System.scaleMode=ig.System.SCALE.SMOOTH;});

// lib/impact/input.js
ig.baked=true;ig.module('impact.input').defines(function(){"use strict";ig.KEY={'MOUSE1':-1,'MOUSE2':-3,'MWHEEL_UP':-4,'MWHEEL_DOWN':-5,'BACKSPACE':8,'TAB':9,'ENTER':13,'PAUSE':19,'CAPS':20,'ESC':27,'SPACE':32,'PAGE_UP':33,'PAGE_DOWN':34,'END':35,'HOME':36,'LEFT_ARROW':37,'UP_ARROW':38,'RIGHT_ARROW':39,'DOWN_ARROW':40,'INSERT':45,'DELETE':46,'_0':48,'_1':49,'_2':50,'_3':51,'_4':52,'_5':53,'_6':54,'_7':55,'_8':56,'_9':57,'A':65,'B':66,'C':67,'D':68,'E':69,'F':70,'G':71,'H':72,'I':73,'J':74,'K':75,'L':76,'M':77,'N':78,'O':79,'P':80,'Q':81,'R':82,'S':83,'T':84,'U':85,'V':86,'W':87,'X':88,'Y':89,'Z':90,'NUMPAD_0':96,'NUMPAD_1':97,'NUMPAD_2':98,'NUMPAD_3':99,'NUMPAD_4':100,'NUMPAD_5':101,'NUMPAD_6':102,'NUMPAD_7':103,'NUMPAD_8':104,'NUMPAD_9':105,'MULTIPLY':106,'ADD':107,'SUBSTRACT':109,'DECIMAL':110,'DIVIDE':111,'F1':112,'F2':113,'F3':114,'F4':115,'F5':116,'F6':117,'F7':118,'F8':119,'F9':120,'F10':121,'F11':122,'F12':123,'SHIFT':16,'CTRL':17,'ALT':18,'PLUS':187,'COMMA':188,'MINUS':189,'PERIOD':190};ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},isUsingMouse:false,isUsingKeyboard:false,isUsingAccelerometer:false,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},initMouse:function(){if(this.isUsingMouse){return;}
this.isUsingMouse=true;var mouseWheelBound=this.mousewheel.bind(this);ig.system.canvas.addEventListener('mousewheel',mouseWheelBound,false);ig.system.canvas.addEventListener('DOMMouseScroll',mouseWheelBound,false);ig.system.canvas.addEventListener('contextmenu',this.contextmenu.bind(this),false);ig.system.canvas.addEventListener('mousedown',this.keydown.bind(this),false);ig.system.canvas.addEventListener('mouseup',this.keyup.bind(this),false);ig.system.canvas.addEventListener('mousemove',this.mousemove.bind(this),false);ig.system.canvas.addEventListener('touchstart',this.keydown.bind(this),false);ig.system.canvas.addEventListener('touchend',this.keyup.bind(this),false);ig.system.canvas.addEventListener('touchmove',this.mousemove.bind(this),false);},initKeyboard:function(){if(this.isUsingKeyboard){return;}
this.isUsingKeyboard=true;window.addEventListener('keydown',this.keydown.bind(this),false);window.addEventListener('keyup',this.keyup.bind(this),false);},initAccelerometer:function(){if(this.isUsingAccelerometer){return;}
window.addEventListener('devicemotion',this.devicemotion.bind(this),false);},mousewheel:function(event){var delta=event.wheelDelta?event.wheelDelta:(event.detail*-1);var code=delta>0?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN;var action=this.bindings[code];if(action){this.actions[action]=true;this.presses[action]=true;this.delayedKeyup[action]=true;event.stopPropagation();event.preventDefault();}},mousemove:function(event){var internalWidth=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth;var scale=ig.system.scale*(internalWidth/ig.system.realWidth);var pos={left:0,top:0};if(ig.system.canvas.getBoundingClientRect){pos=ig.system.canvas.getBoundingClientRect();}
var ev=event.touches?event.touches[0]:event;this.mouse.x=(ev.clientX-pos.left)/scale;this.mouse.y=(ev.clientY-pos.top)/scale;},contextmenu:function(event){if(this.bindings[ig.KEY.MOUSE2]){event.stopPropagation();event.preventDefault();}},keydown:function(event){var tag=event.target.tagName;if(tag=='INPUT'||tag=='TEXTAREA'){return;}
var code=event.type=='keydown'?event.keyCode:(event.button==2?ig.KEY.MOUSE2:ig.KEY.MOUSE1);if(event.type=='touchstart'||event.type=='mousedown'){this.mousemove(event);}
var action=this.bindings[code];if(action){this.actions[action]=true;if(!this.locks[action]){this.presses[action]=true;this.locks[action]=true;}
event.stopPropagation();event.preventDefault();}},keyup:function(event){var tag=event.target.tagName;if(tag=='INPUT'||tag=='TEXTAREA'){return;}
var code=event.type=='keyup'?event.keyCode:(event.button==2?ig.KEY.MOUSE2:ig.KEY.MOUSE1);var action=this.bindings[code];if(action){this.delayedKeyup[action]=true;event.stopPropagation();event.preventDefault();}},devicemotion:function(event){this.accel=event.accelerationIncludingGravity;},bind:function(key,action){if(key<0){this.initMouse();}
else if(key>0){this.initKeyboard();}
this.bindings[key]=action;},bindTouch:function(selector,action){var element=ig.$(selector);var that=this;element.addEventListener('touchstart',function(ev){that.touchStart(ev,action);},false);element.addEventListener('touchend',function(ev){that.touchEnd(ev,action);},false);},unbind:function(key){var action=this.bindings[key];this.delayedKeyup[action]=true;this.bindings[key]=null;},unbindAll:function(){this.bindings={};this.actions={};this.presses={};this.locks={};this.delayedKeyup={};},state:function(action){return this.actions[action];},pressed:function(action){return this.presses[action];},released:function(action){return this.delayedKeyup[action];},clearPressed:function(){for(var action in this.delayedKeyup){this.actions[action]=false;this.locks[action]=false;}
this.delayedKeyup={};this.presses={};},touchStart:function(event,action){this.actions[action]=true;this.presses[action]=true;event.stopPropagation();event.preventDefault();return false;},touchEnd:function(event,action){this.delayedKeyup[action]=true;event.stopPropagation();event.preventDefault();return false;}});});

// lib/impact/impact.js
ig.baked=true;ig.module('impact.impact').requires('dom.ready','impact.loader','impact.system','impact.input','impact.sound').defines(function(){"use strict";ig.main=function(canvasId,gameClass,fps,width,height,scale,loaderClass){ig.system=new ig.System(canvasId,fps,width,height,scale||1);ig.input=new ig.Input();ig.soundManager=new ig.SoundManager();ig.music=new ig.Music();ig.ready=true;var loader=new(loaderClass||ig.Loader)(gameClass,ig.resources);loader.load();};});

// lib/impact/animation.js
ig.baked=true;ig.module('impact.animation').requires('impact.timer','impact.image').defines(function(){"use strict";ig.AnimationSheet=ig.Class.extend({width:8,height:8,image:null,init:function(path,width,height){this.width=width;this.height=height;this.image=new ig.Image(path);}});ig.Animation=ig.Class.extend({sheet:null,timer:null,sequence:[],flip:{x:false,y:false},pivot:{x:0,y:0},frame:0,tile:0,loopCount:0,alpha:1,angle:0,init:function(sheet,frameTime,sequence,stop){this.sheet=sheet;this.pivot={x:sheet.width/2,y:sheet.height/2};this.timer=new ig.Timer();this.frameTime=frameTime;this.sequence=sequence;this.stop=!!stop;this.tile=this.sequence[0];},rewind:function(){this.timer.set();this.loopCount=0;this.tile=this.sequence[0];return this;},gotoFrame:function(f){this.timer.set(this.frameTime*-f);this.update();},gotoRandomFrame:function(){this.gotoFrame(Math.floor(Math.random()*this.sequence.length))},update:function(){var frameTotal=Math.floor(this.timer.delta()/this.frameTime);this.loopCount=Math.floor(frameTotal/this.sequence.length);if(this.stop&&this.loopCount>0){this.frame=this.sequence.length-1;}
else{this.frame=frameTotal%this.sequence.length;}
this.tile=this.sequence[this.frame];},draw:function(targetX,targetY){var bbsize=Math.max(this.sheet.width,this.sheet.height);if(targetX>ig.system.width||targetY>ig.system.height||targetX+bbsize<0||targetY+bbsize<0){return;}
if(this.alpha!=1){ig.system.context.globalAlpha=this.alpha;}
if(this.angle==0){this.sheet.image.drawTile(targetX,targetY,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y);}
else{ig.system.context.save();ig.system.context.translate(ig.system.getDrawPos(targetX+this.pivot.x),ig.system.getDrawPos(targetY+this.pivot.y));ig.system.context.rotate(this.angle);this.sheet.image.drawTile(-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y);ig.system.context.restore();}
if(this.alpha!=1){ig.system.context.globalAlpha=1;}}});});

// lib/impact/entity.js
ig.baked=true;ig.module('impact.entity').requires('impact.animation','impact.impact').defines(function(){"use strict";ig.Entity=ig.Class.extend({id:0,settings:{},size:{x:16,y:16},offset:{x:0,y:0},pos:{x:0,y:0},last:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},friction:{x:0,y:0},maxVel:{x:100,y:100},zIndex:0,gravityFactor:1,standing:false,bounciness:0,minBounceVelocity:40,anims:{},animSheet:null,currentAnim:null,health:10,type:0,checkAgainst:0,collides:0,_killed:false,slopeStanding:{min:(44).toRad(),max:(136).toRad()},init:function(x,y,settings){this.id=++ig.Entity._lastId;this.pos.x=x;this.pos.y=y;ig.merge(this,settings);},addAnim:function(name,frameTime,sequence,stop){if(!this.animSheet){throw('No animSheet to add the animation '+name+' to.');}
var a=new ig.Animation(this.animSheet,frameTime,sequence,stop);this.anims[name]=a;if(!this.currentAnim){this.currentAnim=a;}
return a;},update:function(){this.last.x=this.pos.x;this.last.y=this.pos.y;this.vel.y+=ig.game.gravity*ig.system.tick*this.gravityFactor;this.vel.x=this.getNewVelocity(this.vel.x,this.accel.x,this.friction.x,this.maxVel.x);this.vel.y=this.getNewVelocity(this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var mx=this.vel.x*ig.system.tick;var my=this.vel.y*ig.system.tick;var res=ig.game.collisionMap.trace(this.pos.x,this.pos.y,mx,my,this.size.x,this.size.y);this.handleMovementTrace(res);if(this.currentAnim){this.currentAnim.update();}},getNewVelocity:function(vel,accel,friction,max){if(accel){return(vel+accel*ig.system.tick).limit(-max,max);}
else if(friction){var delta=friction*ig.system.tick;if(vel-delta>0){return vel-delta;}
else if(vel+delta<0){return vel+delta;}
else{return 0;}}
return vel.limit(-max,max);},handleMovementTrace:function(res){this.standing=false;if(res.collision.y){if(this.bounciness>0&&Math.abs(this.vel.y)>this.minBounceVelocity){this.vel.y*=-this.bounciness;}
else{if(this.vel.y>0){this.standing=true;}
this.vel.y=0;}}
if(res.collision.x){if(this.bounciness>0&&Math.abs(this.vel.x)>this.minBounceVelocity){this.vel.x*=-this.bounciness;}
else{this.vel.x=0;}}
if(res.collision.slope){var s=res.collision.slope;if(this.bounciness>0){var proj=this.vel.x*s.nx+this.vel.y*s.ny;this.vel.x=(this.vel.x-s.nx*proj*2)*this.bounciness;this.vel.y=(this.vel.y-s.ny*proj*2)*this.bounciness;}
else{var lengthSquared=s.x*s.x+s.y*s.y;var dot=(this.vel.x*s.x+this.vel.y*s.y)/lengthSquared;this.vel.x=s.x*dot;this.vel.y=s.y*dot;var angle=Math.atan2(s.x,s.y);if(angle>this.slopeStanding.min&&angle<this.slopeStanding.max){this.standing=true;}}}
this.pos=res.pos;},draw:function(){if(this.currentAnim){this.currentAnim.draw(this.pos.x-this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y);}},kill:function(){ig.game.removeEntity(this);},receiveDamage:function(amount,from){this.health-=amount;if(this.health<=0){this.kill();}},touches:function(other){return!(this.pos.x>=other.pos.x+other.size.x||this.pos.x+this.size.x<=other.pos.x||this.pos.y>=other.pos.y+other.size.y||this.pos.y+this.size.y<=other.pos.y);},distanceTo:function(other){var xd=(this.pos.x+this.size.x/2)-(other.pos.x+other.size.x/2);var yd=(this.pos.y+this.size.y/2)-(other.pos.y+other.size.y/2);return Math.sqrt(xd*xd+yd*yd);},angleTo:function(other){return Math.atan2((other.pos.y+other.size.y/2)-(this.pos.y+this.size.y/2),(other.pos.x+other.size.x/2)-(this.pos.x+this.size.x/2));},check:function(other){},collideWith:function(other,axis){},ready:function(){}});ig.Entity._lastId=0;ig.Entity.COLLIDES={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};ig.Entity.TYPE={NONE:0,A:1,B:2,BOTH:3};ig.Entity.checkPair=function(a,b){if(a.checkAgainst&b.type){a.check(b);}
if(b.checkAgainst&a.type){b.check(a);}
if(a.collides&&b.collides&&a.collides+b.collides>ig.Entity.COLLIDES.ACTIVE){ig.Entity.solveCollision(a,b);}};ig.Entity.solveCollision=function(a,b){var weak=null;if(a.collides==ig.Entity.COLLIDES.LITE||b.collides==ig.Entity.COLLIDES.FIXED){weak=a;}
else if(b.collides==ig.Entity.COLLIDES.LITE||a.collides==ig.Entity.COLLIDES.FIXED){weak=b;}
if(a.last.x+a.size.x>b.last.x&&a.last.x<b.last.x+b.size.x){if(a.last.y<b.last.y){ig.Entity.seperateOnYAxis(a,b,weak);}
else{ig.Entity.seperateOnYAxis(b,a,weak);}
a.collideWith(b,'y');b.collideWith(a,'y');}
else if(a.last.y+a.size.y>b.last.y&&a.last.y<b.last.y+b.size.y){if(a.last.x<b.last.x){ig.Entity.seperateOnXAxis(a,b,weak);}
else{ig.Entity.seperateOnXAxis(b,a,weak);}
a.collideWith(b,'x');b.collideWith(a,'x');}};ig.Entity.seperateOnXAxis=function(left,right,weak){var nudge=(left.pos.x+left.size.x-right.pos.x);if(weak){var strong=left===weak?right:left;weak.vel.x=-weak.vel.x*weak.bounciness+strong.vel.x;var resWeak=ig.game.collisionMap.trace(weak.pos.x,weak.pos.y,weak==left?-nudge:nudge,0,weak.size.x,weak.size.y);weak.pos.x=resWeak.pos.x;}
else{var v2=(left.vel.x-right.vel.x)/2;left.vel.x=-v2;right.vel.x=v2;var resLeft=ig.game.collisionMap.trace(left.pos.x,left.pos.y,-nudge/2,0,left.size.x,left.size.y);left.pos.x=Math.floor(resLeft.pos.x);var resRight=ig.game.collisionMap.trace(right.pos.x,right.pos.y,nudge/2,0,right.size.x,right.size.y);right.pos.x=Math.ceil(resRight.pos.x);}};ig.Entity.seperateOnYAxis=function(top,bottom,weak){var nudge=(top.pos.y+top.size.y-bottom.pos.y);if(weak){var strong=top===weak?bottom:top;weak.vel.y=-weak.vel.y*weak.bounciness+strong.vel.y;var nudgeX=0;if(weak==top&&Math.abs(weak.vel.y-strong.vel.y)<weak.minBounceVelocity){weak.standing=true;nudgeX=strong.vel.x*ig.system.tick;}
var resWeak=ig.game.collisionMap.trace(weak.pos.x,weak.pos.y,nudgeX,weak==top?-nudge:nudge,weak.size.x,weak.size.y);weak.pos.y=resWeak.pos.y;weak.pos.x=resWeak.pos.x;}
else if(ig.game.gravity&&(bottom.standing||top.vel.y>0)){var resTop=ig.game.collisionMap.trace(top.pos.x,top.pos.y,0,-(top.pos.y+top.size.y-bottom.pos.y),top.size.x,top.size.y);top.pos.y=resTop.pos.y;if(top.bounciness>0&&top.vel.y>top.minBounceVelocity){top.vel.y*=-top.bounciness;}
else{top.standing=true;top.vel.y=0;}}
else{var v2=(top.vel.y-bottom.vel.y)/2;top.vel.y=-v2;bottom.vel.y=v2;var nudgeX=bottom.vel.x*ig.system.tick;var resTop=ig.game.collisionMap.trace(top.pos.x,top.pos.y,nudgeX,-nudge/2,top.size.x,top.size.y);top.pos.y=resTop.pos.y;var resBottom=ig.game.collisionMap.trace(bottom.pos.x,bottom.pos.y,0,nudge/2,bottom.size.x,bottom.size.y);bottom.pos.y=resBottom.pos.y;}};});

// lib/impact/map.js
ig.baked=true;ig.module('impact.map').defines(function(){"use strict";ig.Map=ig.Class.extend({tilesize:8,width:1,height:1,data:[[]],name:null,init:function(tilesize,data){this.tilesize=tilesize;this.data=data;this.height=data.length;this.width=data[0].length;},getTile:function(x,y){var tx=Math.floor(x/this.tilesize);var ty=Math.floor(y/this.tilesize);if((tx>=0&&tx<this.width)&&(ty>=0&&ty<this.height)){return this.data[ty][tx];}
else{return 0;}},setTile:function(x,y,tile){var tx=Math.floor(x/this.tilesize);var ty=Math.floor(y/this.tilesize);if((tx>=0&&tx<this.width)&&(ty>=0&&ty<this.height)){this.data[ty][tx]=tile;}}});});

// lib/impact/collision-map.js
ig.baked=true;ig.module('impact.collision-map').requires('impact.map').defines(function(){"use strict";ig.CollisionMap=ig.Map.extend({lastSlope:1,tiledef:null,init:function(tilesize,data,tiledef){this.parent(tilesize,data);this.tiledef=tiledef||ig.CollisionMap.defaultTileDef;for(var t in this.tiledef){if(t|0>this.lastSlope){this.lastSlope=t|0;}}},trace:function(x,y,vx,vy,objectWidth,objectHeight){var res={collision:{x:false,y:false,slope:false},pos:{x:x,y:y},tile:{x:0,y:0}};var steps=Math.ceil(Math.max(Math.abs(vx),Math.abs(vy))/this.tilesize);if(steps>1){var sx=vx/steps;var sy=vy/steps;for(var i=0;i<steps&&(sx||sy);i++){this._traceStep(res,x,y,sx,sy,objectWidth,objectHeight,vx,vy,i);x=res.pos.x;y=res.pos.y;if(res.collision.x){sx=0;vx=0;}
if(res.collision.y){sy=0;vy=0;}
if(res.collision.slope){break;}}}
else{this._traceStep(res,x,y,vx,vy,objectWidth,objectHeight,vx,vy,0);}
return res;},_traceStep:function(res,x,y,vx,vy,width,height,rvx,rvy,step){res.pos.x+=vx;res.pos.y+=vy;var t=0;if(vx){var pxOffsetX=(vx>0?width:0);var tileOffsetX=(vx<0?this.tilesize:0);var firstTileY=Math.max(Math.floor(y/this.tilesize),0);var lastTileY=Math.min(Math.ceil((y+height)/this.tilesize),this.height);var tileX=Math.floor((res.pos.x+pxOffsetX)/this.tilesize);var prevTileX=Math.floor((x+pxOffsetX)/this.tilesize);if(step>0||tileX==prevTileX||prevTileX<0||prevTileX>=this.width){prevTileX=-1;}
if(tileX>=0&&tileX<this.width){for(var tileY=firstTileY;tileY<lastTileY;tileY++){if(prevTileX!=-1){t=this.data[tileY][prevTileX];if(t>1&&t<=this.lastSlope&&this._checkTileDef(res,t,x,y,rvx,rvy,width,height,prevTileX,tileY)){break;}}
t=this.data[tileY][tileX];if(t==1||t>this.lastSlope||(t>1&&this._checkTileDef(res,t,x,y,rvx,rvy,width,height,tileX,tileY))){if(t>1&&t<=this.lastSlope&&res.collision.slope){break;}
res.collision.x=true;res.tile.x=t;x=res.pos.x=tileX*this.tilesize-pxOffsetX+tileOffsetX;rvx=0;break;}}}}
if(vy){var pxOffsetY=(vy>0?height:0);var tileOffsetY=(vy<0?this.tilesize:0);var firstTileX=Math.max(Math.floor(res.pos.x/this.tilesize),0);var lastTileX=Math.min(Math.ceil((res.pos.x+width)/this.tilesize),this.width);var tileY=Math.floor((res.pos.y+pxOffsetY)/this.tilesize);var prevTileY=Math.floor((y+pxOffsetY)/this.tilesize);if(step>0||tileY==prevTileY||prevTileY<0||prevTileY>=this.height){prevTileY=-1;}
if(tileY>=0&&tileY<this.height){for(var tileX=firstTileX;tileX<lastTileX;tileX++){if(prevTileY!=-1){t=this.data[prevTileY][tileX];if(t>1&&t<=this.lastSlope&&this._checkTileDef(res,t,x,y,rvx,rvy,width,height,tileX,prevTileY)){break;}}
t=this.data[tileY][tileX];if(t==1||t>this.lastSlope||(t>1&&this._checkTileDef(res,t,x,y,rvx,rvy,width,height,tileX,tileY))){if(t>1&&t<=this.lastSlope&&res.collision.slope){break;}
res.collision.y=true;res.tile.y=t;res.pos.y=tileY*this.tilesize-pxOffsetY+tileOffsetY;break;}}}}},_checkTileDef:function(res,t,x,y,vx,vy,width,height,tileX,tileY){var def=this.tiledef[t];if(!def){return false;}
var lx=(tileX+def[0])*this.tilesize,ly=(tileY+def[1])*this.tilesize,lvx=(def[2]-def[0])*this.tilesize,lvy=(def[3]-def[1])*this.tilesize,solid=def[4];var tx=x+vx+(lvy<0?width:0)-lx,ty=y+vy+(lvx>0?height:0)-ly;if(lvx*ty-lvy*tx>0){if(vx*-lvy+vy*lvx<0){return solid;}
var length=Math.sqrt(lvx*lvx+lvy*lvy);var nx=lvy/length,ny=-lvx/length;var proj=tx*nx+ty*ny;var px=nx*proj,py=ny*proj;if(px*px+py*py>=vx*vx+vy*vy){return solid||(lvx*(ty-vy)-lvy*(tx-vx)<0.5);}
res.pos.x=x+vx-px;res.pos.y=y+vy-py;res.collision.slope={x:lvx,y:lvy,nx:nx,ny:ny};return true;}
return false;}});var H=1/2,N=1/3,M=2/3,SOLID=true,NON_SOLID=false;ig.CollisionMap.defaultTileDef={5:[0,1,1,M,SOLID],6:[0,M,1,N,SOLID],7:[0,N,1,0,SOLID],3:[0,1,1,H,SOLID],4:[0,H,1,0,SOLID],2:[0,1,1,0,SOLID],10:[H,1,1,0,SOLID],21:[0,1,H,0,SOLID],32:[M,1,1,0,SOLID],43:[N,1,M,0,SOLID],54:[0,1,N,0,SOLID],27:[0,0,1,N,SOLID],28:[0,N,1,M,SOLID],29:[0,M,1,1,SOLID],25:[0,0,1,H,SOLID],26:[0,H,1,1,SOLID],24:[0,0,1,1,SOLID],11:[0,0,H,1,SOLID],22:[H,0,1,1,SOLID],33:[0,0,N,1,SOLID],44:[N,0,M,1,SOLID],55:[M,0,1,1,SOLID],16:[1,N,0,0,SOLID],17:[1,M,0,N,SOLID],18:[1,1,0,M,SOLID],14:[1,H,0,0,SOLID],15:[1,1,0,H,SOLID],13:[1,1,0,0,SOLID],8:[H,1,0,0,SOLID],19:[1,1,H,0,SOLID],30:[N,1,0,0,SOLID],41:[M,1,N,0,SOLID],52:[1,1,M,0,SOLID],38:[1,M,0,1,SOLID],39:[1,N,0,M,SOLID],40:[1,0,0,N,SOLID],36:[1,H,0,1,SOLID],37:[1,0,0,H,SOLID],35:[1,0,0,1,SOLID],9:[1,0,H,1,SOLID],20:[H,0,0,1,SOLID],31:[1,0,M,1,SOLID],42:[M,0,N,1,SOLID],53:[N,0,0,1,SOLID],12:[0,0,1,0,NON_SOLID],23:[1,1,0,1,NON_SOLID],34:[1,0,1,1,NON_SOLID],45:[0,1,0,0,NON_SOLID]};ig.CollisionMap.staticNoCollision={trace:function(x,y,vx,vy){return{collision:{x:false,y:false,slope:false},pos:{x:x+vx,y:y+vy},tile:{x:0,y:0}};}};});

// lib/impact/background-map.js
ig.baked=true;ig.module('impact.background-map').requires('impact.map','impact.image').defines(function(){"use strict";ig.BackgroundMap=ig.Map.extend({tiles:null,scroll:{x:0,y:0},distance:1,repeat:false,tilesetName:'',foreground:false,enabled:true,preRender:false,preRenderedChunks:null,chunkSize:512,debugChunks:false,anims:{},init:function(tilesize,data,tileset){this.parent(tilesize,data);this.setTileset(tileset);},setTileset:function(tileset){this.tilesetName=tileset instanceof ig.Image?tileset.path:tileset;this.tiles=new ig.Image(this.tilesetName);this.preRenderedChunks=null;},setScreenPos:function(x,y){this.scroll.x=x/this.distance;this.scroll.y=y/this.distance;},preRenderMapToChunks:function(){var totalWidth=this.width*this.tilesize*ig.system.scale,totalHeight=this.height*this.tilesize*ig.system.scale;this.chunkSize=Math.min(Math.max(totalWidth,totalHeight),this.chunkSize);var chunkCols=Math.ceil(totalWidth/this.chunkSize),chunkRows=Math.ceil(totalHeight/this.chunkSize);this.preRenderedChunks=[];for(var y=0;y<chunkRows;y++){this.preRenderedChunks[y]=[];for(var x=0;x<chunkCols;x++){var chunkWidth=(x==chunkCols-1)?totalWidth-x*this.chunkSize:this.chunkSize;var chunkHeight=(y==chunkRows-1)?totalHeight-y*this.chunkSize:this.chunkSize;this.preRenderedChunks[y][x]=this.preRenderChunk(x,y,chunkWidth,chunkHeight);}}},preRenderChunk:function(cx,cy,w,h){var tw=w/this.tilesize/ig.system.scale+1,th=h/this.tilesize/ig.system.scale+1;var nx=(cx*this.chunkSize/ig.system.scale)%this.tilesize,ny=(cy*this.chunkSize/ig.system.scale)%this.tilesize;var tx=Math.floor(cx*this.chunkSize/this.tilesize/ig.system.scale),ty=Math.floor(cy*this.chunkSize/this.tilesize/ig.system.scale);var chunk=ig.$new('canvas');chunk.width=w;chunk.height=h;var oldContext=ig.system.context;ig.system.context=chunk.getContext("2d");for(var x=0;x<tw;x++){for(var y=0;y<th;y++){if(x+tx<this.width&&y+ty<this.height){var tile=this.data[y+ty][x+tx];if(tile){this.tiles.drawTile(x*this.tilesize-nx,y*this.tilesize-ny,tile-1,this.tilesize);}}}}
ig.system.context=oldContext;return chunk;},draw:function(){if(!this.tiles.loaded||!this.enabled){return;}
if(this.preRender){this.drawPreRendered();}
else{this.drawTiled();}},drawPreRendered:function(){if(!this.preRenderedChunks){this.preRenderMapToChunks();}
var dx=ig.system.getDrawPos(this.scroll.x),dy=ig.system.getDrawPos(this.scroll.y);if(this.repeat){var w=this.width*this.tilesize*ig.system.scale;dx=(dx%w+w)%w;var h=this.height*this.tilesize*ig.system.scale;dy=(dy%h+h)%h;}
var minChunkX=Math.max(Math.floor(dx/this.chunkSize),0),minChunkY=Math.max(Math.floor(dy/this.chunkSize),0),maxChunkX=Math.ceil((dx+ig.system.realWidth)/this.chunkSize),maxChunkY=Math.ceil((dy+ig.system.realHeight)/this.chunkSize),maxRealChunkX=this.preRenderedChunks[0].length,maxRealChunkY=this.preRenderedChunks.length;if(!this.repeat){maxChunkX=Math.min(maxChunkX,maxRealChunkX);maxChunkY=Math.min(maxChunkY,maxRealChunkY);}
var nudgeY=0;for(var cy=minChunkY;cy<maxChunkY;cy++){var nudgeX=0;for(var cx=minChunkX;cx<maxChunkX;cx++){var chunk=this.preRenderedChunks[cy%maxRealChunkY][cx%maxRealChunkX];var x=-dx+cx*this.chunkSize-nudgeX;var y=-dy+cy*this.chunkSize-nudgeY;ig.system.context.drawImage(chunk,x,y);ig.Image.drawCount++;if(this.debugChunks){ig.system.context.strokeStyle='#f0f';ig.system.context.strokeRect(x,y,this.chunkSize,this.chunkSize);}
if(this.repeat&&chunk.width<this.chunkSize&&x+chunk.width<ig.system.realWidth){nudgeX+=this.chunkSize-chunk.width;maxChunkX++;}}
if(this.repeat&&chunk.height<this.chunkSize&&y+chunk.height<ig.system.realHeight){nudgeY+=this.chunkSize-chunk.height;maxChunkY++;}}},drawTiled:function(){var tile=0,anim=null,tileOffsetX=(this.scroll.x/this.tilesize).toInt(),tileOffsetY=(this.scroll.y/this.tilesize).toInt(),pxOffsetX=this.scroll.x%this.tilesize,pxOffsetY=this.scroll.y%this.tilesize,pxMinX=-pxOffsetX-this.tilesize,pxMinY=-pxOffsetY-this.tilesize,pxMaxX=ig.system.width+this.tilesize-pxOffsetX,pxMaxY=ig.system.height+this.tilesize-pxOffsetY;for(var mapY=-1,pxY=pxMinY;pxY<pxMaxY;mapY++,pxY+=this.tilesize){var tileY=mapY+tileOffsetY;if(tileY>=this.height||tileY<0){if(!this.repeat){continue;}
tileY=(tileY%this.height+this.height)%this.height;}
for(var mapX=-1,pxX=pxMinX;pxX<pxMaxX;mapX++,pxX+=this.tilesize){var tileX=mapX+tileOffsetX;if(tileX>=this.width||tileX<0){if(!this.repeat){continue;}
tileX=(tileX%this.width+this.width)%this.width;}
if((tile=this.data[tileY][tileX])){if((anim=this.anims[tile-1])){anim.draw(pxX,pxY);}
else{this.tiles.drawTile(pxX,pxY,tile-1,this.tilesize);}}}}}});});

// lib/impact/game.js
ig.baked=true;ig.module('impact.game').requires('impact.impact','impact.entity','impact.collision-map','impact.background-map').defines(function(){"use strict";ig.Game=ig.Class.extend({clearColor:'#000000',gravity:0,screen:{x:0,y:0},_rscreen:{x:0,y:0},entities:[],namedEntities:{},collisionMap:ig.CollisionMap.staticNoCollision,backgroundMaps:[],backgroundAnims:{},autoSort:false,sortBy:null,cellSize:64,_deferredKill:[],_levelToLoad:null,_doSortEntities:false,staticInstantiate:function(){this.sortBy=this.sortBy||ig.Game.SORT.Z_INDEX;ig.game=this;return null;},loadLevel:function(data){this.screen={x:0,y:0};this.entities=[];this.namedEntities={};for(var i=0;i<data.entities.length;i++){var ent=data.entities[i];this.spawnEntity(ent.type,ent.x,ent.y,ent.settings);}
this.sortEntities();this.collisionMap=ig.CollisionMap.staticNoCollision;this.backgroundMaps=[];for(var i=0;i<data.layer.length;i++){var ld=data.layer[i];if(ld.name=='collision'){this.collisionMap=new ig.CollisionMap(ld.tilesize,ld.data);}
else{var newMap=new ig.BackgroundMap(ld.tilesize,ld.data,ld.tilesetName);newMap.anims=this.backgroundAnims[ld.tilesetName]||{};newMap.repeat=ld.repeat;newMap.distance=ld.distance;newMap.foreground=!!ld.foreground;newMap.preRender=!!ld.preRender;newMap.name=ld.name;this.backgroundMaps.push(newMap);}}
for(var i=0;i<this.entities.length;i++){this.entities[i].ready();}},loadLevelDeferred:function(data){this._levelToLoad=data;},getMapByName:function(name){if(name=='collision'){return this.collisionMap;}
for(var i=0;i<this.backgroundMaps.length;i++){if(this.backgroundMaps[i].name==name){return this.backgroundMaps[i];}}
return null;},getEntityByName:function(name){return this.namedEntities[name];},getEntitiesByType:function(type){var entityClass=typeof(type)==='string'?ig.global[type]:type;var a=[];for(var i=0;i<this.entities.length;i++){var ent=this.entities[i];if(ent instanceof entityClass&&!ent._killed){a.push(ent);}}
return a;},spawnEntity:function(type,x,y,settings){var entityClass=typeof(type)==='string'?ig.global[type]:type;if(!entityClass){throw("Can't spawn entity of type "+type);}
var ent=new(entityClass)(x,y,settings||{});this.entities.push(ent);if(ent.name){this.namedEntities[ent.name]=ent;}
return ent;},sortEntities:function(){this.entities.sort(this.sortBy);},sortEntitiesDeferred:function(){this._doSortEntities=true;},removeEntity:function(ent){if(ent.name){delete this.namedEntities[ent.name];}
ent._killed=true;ent.type=ig.Entity.TYPE.NONE;ent.checkAgainst=ig.Entity.TYPE.NONE;ent.collides=ig.Entity.COLLIDES.NEVER;this._deferredKill.push(ent);},run:function(){this.update();this.draw();},update:function(){if(this._levelToLoad){this.loadLevel(this._levelToLoad);this._levelToLoad=null;}
if(this._doSortEntities||this.autoSort){this.sortEntities();this._doSortEntities=false;}
this.updateEntities();this.checkEntities();for(var i=0;i<this._deferredKill.length;i++){this.entities.erase(this._deferredKill[i]);}
this._deferredKill=[];for(var tileset in this.backgroundAnims){var anims=this.backgroundAnims[tileset];for(var a in anims){anims[a].update();}}},updateEntities:function(){for(var i=0;i<this.entities.length;i++){var ent=this.entities[i];if(!ent._killed){ent.update();}}},draw:function(){if(this.clearColor){ig.system.clear(this.clearColor);}
this._rscreen.x=ig.system.getDrawPos(this.screen.x)/ig.system.scale;this._rscreen.y=ig.system.getDrawPos(this.screen.y)/ig.system.scale;var mapIndex;for(mapIndex=0;mapIndex<this.backgroundMaps.length;mapIndex++){var map=this.backgroundMaps[mapIndex];if(map.foreground){break;}
map.setScreenPos(this.screen.x,this.screen.y);map.draw();}
this.drawEntities();for(mapIndex;mapIndex<this.backgroundMaps.length;mapIndex++){var map=this.backgroundMaps[mapIndex];map.setScreenPos(this.screen.x,this.screen.y);map.draw();}},drawEntities:function(){for(var i=0;i<this.entities.length;i++){this.entities[i].draw();}},checkEntities:function(){var hash={};for(var e=0;e<this.entities.length;e++){var entity=this.entities[e];if(entity.type==ig.Entity.TYPE.NONE&&entity.checkAgainst==ig.Entity.TYPE.NONE&&entity.collides==ig.Entity.COLLIDES.NEVER){continue;}
var checked={},xmin=Math.floor(entity.pos.x/this.cellSize),ymin=Math.floor(entity.pos.y/this.cellSize),xmax=Math.floor((entity.pos.x+entity.size.x)/this.cellSize)+1,ymax=Math.floor((entity.pos.y+entity.size.y)/this.cellSize)+1;for(var x=xmin;x<xmax;x++){for(var y=ymin;y<ymax;y++){if(!hash[x]){hash[x]={};hash[x][y]=[entity];}
else if(!hash[x][y]){hash[x][y]=[entity];}
else{var cell=hash[x][y];for(var c=0;c<cell.length;c++){if(entity.touches(cell[c])&&!checked[cell[c].id]){checked[cell[c].id]=true;ig.Entity.checkPair(entity,cell[c]);}}
cell.push(entity);}}}}}});ig.Game.SORT={Z_INDEX:function(a,b){return a.zIndex-b.zIndex;},POS_X:function(a,b){return(a.pos.x+a.size.x)-(b.pos.x+b.size.x);},POS_Y:function(a,b){return(a.pos.y+a.size.y)-(b.pos.y+b.size.y);}};});

// lib/plugins/timeslower.js
ig.baked=true;ig.module('plugins.timeslower').requires('impact.system').defines(function(){Supertimer=ig.Class.extend({target:0,base:0,last:0,init:function(seconds){this.base=Supertimer.time;this.last=Supertimer.time;this.target=seconds||0;},set:function(seconds){this.target=seconds||0;this.base=Supertimer.time;},reset:function(){this.base=Supertimer.time;},tick:function(){var delta=Supertimer.time-this.last;this.last=Supertimer.time;return delta;},delta:function(){return Supertimer.time-this.base-this.target;}});Supertimer._last=0;Supertimer.time=0;Supertimer.maxStep=0.05;Supertimer.step=function(){var current=Date.now();var delta=(current-Supertimer._last)/1000;Supertimer.time+=Math.min(delta,Supertimer.maxStep);Supertimer._last=current;};ig.System.inject({run:function(){ig.Timer.step();Supertimer.step();this.tick=this.clock.tick();this.delegate.run();ig.input.clearPressed();if(this.newGameClass){this.setGameNow(this.newGameClass);this.newGameClass=null;}},});TimeSlower=ig.Class.extend({currentTimeScale:1,timeScaleHolder:1,changedTimer:null,changedTime:0,constantDuration:0,slowingDownDuration:0,returnToNormalDuration:0,slowingDown:false,constant:false,returningToNormal:false,segmentStartValue:0,segmentEndValue:0,update:function(){if(this.slowingDown==true){if(this.changedTimer&&this.changedTimer.delta()<0){ig.Timer.timeScale=this.changedTimer.delta().map(-this.slowingDownDuration,0,1,this.timeScaleHolder);}
else if(this.changedTimer&&this.changedTimer.delta()>=0){this.slowingDown=false;this.constant=true;this.changedTimer.set(this.constantDuration);ig.Timer.timeScale=this.timeScaleHolder;ig.log("timescale = "+ig.Timer.timeScale);}}
if(this.constant==true){if(this.changedTimer&&this.changedTimer.delta()>=0){this.constant=false;this.returningToNormal=true;this.changedTimer.set(this.returnToNormalDuration);ig.Timer.timeScale=this.timeScaleHolder;ig.log("timescale constant = "+ig.Timer.timeScale);}}
if(this.returningToNormal==true){if(this.changedTimer&&this.changedTimer.delta()<0){ig.Timer.timeScale=this.changedTimer.delta().map(-this.returnToNormalDuration,0,this.timeScaleHolder,1);}
else if(this.changedTimer&&this.changedTimer.delta()>=0){ig.Timer.timeScale=1;this.returningToNormal=false;this.constant=false;this.slowingDown=false;ig.log("timescale returning to normal = "+ig.Timer.timeScale);}}},alterTimeScale:function(timescale,slowingDownDuration,constantDuration,returnToNormalDuration){if(ig.Timer.timeScale==1){this.timeScaleHolder=timescale;this.slowingDownDuration=slowingDownDuration;this.constantDuration=constantDuration;this.returnToNormalDuration=returnToNormalDuration;this.changedTime=slowingDownDuration;this.changedTimer=new Supertimer(slowingDownDuration);ig.log("timer delta = "+this.changedTimer.delta());this.slowingDown=true;}}});});

// lib/plugins/screenfader.js
ig.baked=true;ig.module('plugins.screenfader').requires('plugins.timeslower').defines(function(){ScreenFader=ig.Class.extend({fadeColor:'rgb(0,0,0)',fadeTime:1,fadeTimer:null,fading:false,currentAlpha:0,startAlpha:0,endAlpha:1,executeOnEnd:function(){return null;},draw:function(){if(this.fading){this.currentAlpha=(this.fadeTimer.delta()+this.fadeTime).map(0,this.fadeTime,this.startAlpha,this.endAlpha);if(this.fadeTimer&&this.fadeTimer.delta()>=0){this.currentAlpha=this.endAlpha;this.fading=false;this.fadeTimer=null;this.executeOnEnd();}
var context=ig.system.context;var canvas=ig.system.canvas;var tempAlpha=context.globalAlpha;context.fillStyle=this.fadeColor;context.globalAlpha=this.currentAlpha;context.globalAlpha=this.currentAlpha;context.fillRect(0,0,canvas.width,canvas.height);context.globalAlpha=tempAlpha;}},fadeBegin:function(color,time,startAlpha,endAlpha,executeOnEnd){if(!this.fading){this.fadeColor=(color)?color:this.fadeColor;this.fadeTime=(time)?time:this.fadeTime;this.startAlpha=(startAlpha||startAlpha==0)?startAlpha:0;this.endAlpha=(endAlpha||endAlpha==0)?endAlpha:1;this.executeOnEnd=(executeOnEnd)?executeOnEnd:function(){return null;};this.fading=true;this.fadeTimer=new Supertimer(this.fadeTime);}
else{ig.log("plugin.screenfader.fadeBegin() called while already fading.");}}});});

// lib/plugins/screenshaker.js
ig.baked=true;ig.module('plugins.screenshaker').requires('impact.entity').defines(function(){EntityScreenshaker=ig.Entity.extend({gravityFactor:0,pos:{x:0,y:0},lastPos:{x:0,y:0},maxVel:{x:1000,y:1000},k:150,c:10,m:1,trap:0.3,resetTime:2.0,resetTimer:null,timedShakeTimer:null,timedShakeIntensity:100,init:function(x,y,settings){this.parent(0,0,settings);},update:function(){this.lastPos.x=this.pos.x;this.lastPos.y=this.pos.y;this.accel.x=(-this.k*this.pos.x+-this.c*this.vel.x)/this.m;this.accel.y=(-this.k*this.pos.y+-this.c*this.vel.y)/this.m;this.parent();this.handleMovementTrace(null);if(this.resetTimer&&this.resetTimer.delta()>=0){this.pos.x=0;this.pos.y=0;this.last.x=0;this.last.y=0;this.vel.x=0;this.vel.y=0;this.accel.x=0;this.accel.y=0;this.resetTimer=null;}},draw:function(){},handleMovementTrace:function(result){this.pos.x+=this.vel.x*ig.system.tick;this.pos.y+=this.vel.y*ig.system.tick;},kill:function(){},applyImpulse:function(x,y){this.vel.x-=x;this.vel.y-=y;if(this.resetTimer){this.resetTimer.reset();}
else{this.resetTimer=new ig.Timer(this.resetTime);}}});ScreenShaker=ig.Class.extend({spring:new EntityScreenshaker(),update:function(){if(this.timedShakeTimer){if(this.timedShakeTimer.delta()<=0){var randomAngle=randomRange(0,Math.PI*2);this.applyImpulse(this.timedShakeIntensity*Math.cos(randomAngle),this.timedShakeIntensity*Math.sin(randomAngle))}
else{this.timedShakeTimer=null;}}
this.spring.update();},shakeScreen:function(screenPos){screenPos.x=screenPos.x-this.spring.lastPos.x+this.spring.pos.x;screenPos.y=screenPos.y-this.spring.lastPos.y+this.spring.pos.y;},applyImpulse:function(x,y){this.spring.applyImpulse(x,y);},timedShake:function(intensity,time){this.timedShakeIntensity=intensity;this.timedShakeTimer=new ig.Timer(time);}});});Array.prototype.first=function(){return this[0];};Array.prototype.last=function(){return this[this.length-1];};

// lib/plugins/scene_manager.js
ig.baked=true;ig.module('plugins.scene_manager').requires('impact.game').defines(function(){Scene=ig.Class.extend({title:null,sceneManager:null,font:null,center:{x:0,y:0},suspendedHere:false,init:function(title){this.title=title||null;this.center.x=ig.system.width*0.5;this.center.y=ig.system.height*0.5;},update:function(){},draw:function(){},onExit:function(){},onEntry:function(){},isTopScene:function(){if(this.sceneManager){var currentScene=this.sceneManager.sceneStack.last();return(this==currentScene);}},});SceneManager=ig.Class.extend({sceneStack:[],staticInstantiate:function(){if(SceneManager.instance==null){return null;}
else{return SceneManager.instance;}},init:function(){SceneManager.instance=this;},updateScene:function(){var currentScene=this.sceneStack.last();if(currentScene instanceof Scene){currentScene.update();}},drawScene:function(){var currentScene=this.sceneStack.last();if(currentScene instanceof Scene){currentScene.draw();}},pushScene:function(newScene){newScene.sceneManager=this;if(this.sceneStack.length>0){this.getTopScene().onExit();}
this.sceneStack.push(newScene);this.getTopScene().onEntry();return newScene;},popScene:function(){if(this.sceneStack.length>1){var oldScene=this.sceneStack.pop(),newScene=this.sceneStack.last();oldScene.onExit();newScene.onEntry();return oldScene;}
return null;},getTopScene:function(){return this.sceneStack[this.sceneStack.length-1];},popToRootScene:function(){this.sceneStack[this.sceneStack.length-1].onExit();this.sceneStack=this.sceneStack.slice(0,1);this.sceneStack[0].onEntry();},replaceScene:function(newScene){this.sceneStack[this.sceneStack.length-1].onExit();this.sceneStack.splice(-1,1,newScene);newScene.onEntry();},setScenes:function(newScenes){var numNewScenes=newScenes.length;this.getTopScene().onExit();this.sceneStack=[];for(var i=0;i<numNewScenes;i++){var newScene=newScenes[i];this.pushScene(newScene);}}});SceneManager.instance=null;});

// lib/plugins/impact-splash-loader.js
ig.baked=true;ig.module('plugins.impact-splash-loader').requires('impact.loader','impact.timer').defines(function(){ig.ImpactSplashLoader=ig.Loader.extend({endTime:0,fadeToWhiteTime:200,fadeToGameTime:800,logoWidth:340,logoHeight:120,adHandler:null,offsety:0,init:function(gameClass,resources){this.parent(gameClass,resources);var adTime=(ig.ua.mobile)?10:2;this.adHandler=new LeadboltHandler(0,0,adTime);ig.adHandler=this.adHandler;},end:function(){if(this.done){return;}
this.done=true;clearInterval(this._intervalId);ig.system.setGame(this.gameClass);this.endTime=Date.now();ig.system.setDelegate(this);},run:function(){var t=Date.now()-this.endTime;var alpha=1;if(this.adHandler&&this.adHandler.displayTimer.delta()<=0){this.endTime=Date.now();this.draw();alpha=0;}
else if(t<this.fadeToWhiteTime){this.draw();alpha=t.map(0,this.fadeToWhiteTime,0,1);if(this.adHandler&&this.adHandler.hidden==false){this.adHandler.hideAd();}}
else if(t<this.fadeToGameTime){ig.game.run();alpha=t.map(this.fadeToWhiteTime,this.fadeToGameTime,1,0);}
else{ig.system.setDelegate(ig.game);return;}
ig.system.context.fillStyle='rgba(255,255,255,'+alpha+')';ig.system.context.fillRect(0,0,ig.system.realWidth,ig.system.realHeight);if(this.adHandler){this.adHandler.update();}},_loadCallback:function(path,status){if(this.adHandler){if(status){this._unloaded.erase(path);}
else{throw('Failed to load resource: '+path);}
this.status=1-(this._unloaded.length/this.resources.length);if(this._unloaded.length==0){setTimeout(this.end.bind(this),250);}}
else{this.parent(path,status);}},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/5;if(this.adHandler){this._drawStatus=(this.adHandler.displayTime+this.adHandler.displayTimer.delta())/this.adHandler.displayTime;if(this._drawStatus>1){this._drawStatus=1;}}
var ctx=ig.system.context;var w=ig.system.realWidth;var h=ig.system.realHeight;var scale=w/this.logoWidth/3;var center=(w-this.logoWidth*scale)/2;ctx.fillStyle='rgba(0,0,0,0.8)';ctx.fillRect(0,0,w,h);var loadingHeight=h/2.5;if(this.adHandler){loadingHeight=h/8;}
ctx.save();ctx.translate(center,loadingHeight);ctx.scale(scale,scale);ctx.lineWidth='3';ctx.strokeStyle='rgb(255,255,255)';ctx.strokeRect(25,40,300,20);ctx.fillStyle='rgb(255,255,255)';ctx.fillRect(30,45,290*this._drawStatus,10);ctx.save();ctx.scale(.5,.5);var logosAtY=this.logoHeight+60
ctx.translate(0+25,logosAtY-20);ig.ImpactSplashLoader.DRAW_CAT();ctx.translate(center+150,0+20);this.drawPaths('rgb(255,255,255)',ig.ImpactSplashLoader.PATHS_IMPACT);var comet=ig.ImpactSplashLoader.PATHS_COMET;comet[5][0]=3-Math.random()*this._drawStatus*7;comet[5][1]=3-Math.random()*this._drawStatus*10;comet[7][0]=29.5-Math.random()*this._drawStatus*10;comet[7][1]=40.4-Math.random()*this._drawStatus*10;comet[9][0]=16.1-Math.random()*this._drawStatus*10;comet[9][1]=36.1-Math.random()*this._drawStatus*5;ctx.translate(-Math.random()*this._drawStatus*7,-Math.random()*this._drawStatus*5);this.drawPaths('rgb(243,120,31)',comet);ctx.restore();ctx.restore();if(this.adHandler){this.adHandler.draw();}},drawPaths:function(color,paths){var ctx=ig.system.context;ctx.fillStyle=color;for(var i=0;i<paths.length;i+=2){ctx[ig.ImpactSplashLoader.OPS[paths[i]]].apply(ctx,paths[i+1]);}}});AdHandler=ig.Class.extend({displayTime:10,displayTimer:null,adPos:{x:0,y:0},adSelector:null,hidden:false,init:function(x,y,time){this.adPos.x=x;this.adPos.y=y;this.displayTime=(time)?time:this.displayTime;this.displayTimer=new ig.Timer(this.displayTime);},update:function(){},draw:function(){},hideAd:function(){this.hidden=true;},unhideAd:function(){this.hidden=false;}});LeadboltHandler=AdHandler.extend({init:function(x,y,time){this.parent(x,y,time);var selectorArray=document.getElementsByName('ap_iframe');if(selectorArray&&selectorArray.length>=1){this.adSelector=selectorArray[0];this.adSelector.setAttribute('id','leadbolt');}},hideAd:function(){this.parent();if(this.adSelector){this.adSelector.style.display="none";}},unhideAd:function(){this.parent();if(this.adSelector){this.adSelector.style.display="block";}}});GreystripeHandler=AdHandler.extend({init:function(x,y,time){this.parent(x,y,time);this.adSelector=document.getElementById('gs_gsad1_stage');},hideAd:function(){this.parent();this.adSelector.style.display="none";},unhideAd:function(){this.parent();this.adSelector.style.display="block";}});ig.ImpactSplashLoader.OPS={bp:'beginPath',cp:'closePath',f:'fill',m:'moveTo',l:'lineTo',bc:'bezierCurveTo'};ig.ImpactSplashLoader.PATHS_COMET=['bp',[],'m',[85.1,58.3],'l',[0.0,0.0],'l',[29.5,40.4],'l',[16.1,36.1],'l',[54.6,91.6],'bc',[65.2,106.1,83.4,106.7,93.8,95.7],'bc',[103.9,84.9,98.6,67.6,85.1,58.3],'cp',[],'m',[76.0,94.3],'bc',[68.5,94.3,62.5,88.2,62.5,80.8],'bc',[62.5,73.3,68.5,67.2,76.0,67.2],'bc',[83.5,67.2,89.6,73.3,89.6,80.8],'bc',[89.6,88.2,83.5,94.3,76.0,94.3],'cp',[],'f',[]];ig.ImpactSplashLoader.PATHS_IMPACT=['bp',[],'m',[128.8,98.7],'l',[114.3,98.7],'l',[114.3,26.3],'l',[128.8,26.3],'l',[128.8,98.7],'cp',[],'f',[],'bp',[],'m',[159.2,70.1],'l',[163.6,26.3],'l',[184.6,26.3],'l',[184.6,98.7],'l',[170.3,98.7],'l',[170.3,51.2],'l',[164.8,98.7],'l',[151.2,98.7],'l',[145.7,50.7],'l',[145.7,98.7],'l',[134.1,98.7],'l',[134.1,26.3],'l',[155.0,26.3],'l',[159.2,70.1],'cp',[],'f',[],'bp',[],'m',[204.3,98.7],'l',[189.8,98.7],'l',[189.8,26.3],'l',[211.0,26.3],'bc',[220.0,26.3,224.5,30.7,224.5,39.7],'l',[224.5,60.1],'bc',[224.5,69.1,220.0,73.6,211.0,73.6],'l',[204.3,73.6],'l',[204.3,98.7],'cp',[],'m',[207.4,38.7],'l',[204.3,38.7],'l',[204.3,61.2],'l',[207.4,61.2],'bc',[209.1,61.2,210.0,60.3,210.0,58.6],'l',[210.0,41.3],'bc',[210.0,39.5,209.1,38.7,207.4,38.7],'cp',[],'f',[],'bp',[],'m',[262.7,98.7],'l',[248.3,98.7],'l',[247.1,88.2],'l',[238.0,88.2],'l',[237.0,98.7],'l',[223.8,98.7],'l',[233.4,26.3],'l',[253.1,26.3],'l',[262.7,98.7],'cp',[],'m',[239.4,75.5],'l',[245.9,75.5],'l',[242.6,43.9],'l',[239.4,75.5],'cp',[],'f',[],'bp',[],'m',[300.9,66.7],'l',[300.9,85.9],'bc',[300.9,94.9,296.4,99.4,287.4,99.4],'l',[278.5,99.4],'bc',[269.5,99.4,265.1,94.9,265.1,85.9],'l',[265.1,39.1],'bc',[265.1,30.1,269.5,25.6,278.5,25.6],'l',[287.2,25.6],'bc',[296.2,25.6,300.7,30.1,300.7,39.1],'l',[300.7,56.1],'l',[286.4,56.1],'l',[286.4,40.7],'bc',[286.4,38.9,285.6,38.1,283.8,38.1],'l',[282.1,38.1],'bc',[280.4,38.1,279.5,38.9,279.5,40.7],'l',[279.5,84.3],'bc',[279.5,86.1,280.4,86.9,282.1,86.9],'l',[284.0,86.9],'bc',[285.8,86.9,286.6,86.1,286.6,84.3],'l',[286.6,66.7],'l',[300.9,66.7],'cp',[],'f',[],'bp',[],'m',[312.5,98.7],'l',[312.5,39.2],'l',[303.7,39.2],'l',[303.7,26.3],'l',[335.8,26.3],'l',[335.8,39.2],'l',[327.0,39.2],'l',[327.0,98.7],'l',[312.5,98.7],'cp',[],'f',[]];ig.ImpactSplashLoader.DRAW_CAT=function(){var ctx=ig.system.context;ctx.save();ctx.translate(0,0);ctx.beginPath();ctx.moveTo(0,0);ctx.lineTo(256,0);ctx.lineTo(256,256);ctx.lineTo(0,256);ctx.closePath();ctx.clip();ctx.translate(0,0);ctx.translate(0,0);ctx.scale(1,1);ctx.translate(0,0);ctx.strokeStyle='rgba(0,0,0,0)';ctx.lineCap='butt';ctx.lineJoin='miter';ctx.miterLimit=4;ctx.save();ctx.save();ctx.fillStyle="#ffffff";ctx.beginPath();ctx.moveTo(78.048,52.845);ctx.lineTo(90.219,20.584);ctx.lineTo(107.708,24.262);ctx.lineTo(120.166,20.584);ctx.lineTo(123.788,17.191);ctx.lineTo(123.788,6.019);ctx.lineTo(126.327,3.625);ctx.lineTo(135.932,13.431);ctx.lineTo(140.607,13.431);ctx.lineTo(150.869,3.625);ctx.lineTo(153.971,3.625);ctx.lineTo(152.137,18.996);ctx.lineTo(155.664,26.495);ctx.lineTo(152.562,32.992);ctx.lineTo(159.846,37.28);ctx.lineTo(156.51,50.993);ctx.lineTo(98.118,55.066);ctx.lineTo(78.048,52.845);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.save();ctx.fillStyle="#f4f4f4";ctx.beginPath();ctx.moveTo(149.922,116.564);ctx.bezierCurveTo(151.207,130.408,138.248,142.87099999999998,120.97999999999999,144.402);ctx.bezierCurveTo(103.71,145.93099999999998,88.67099999999999,135.945,87.38799999999999,122.10099999999998);ctx.bezierCurveTo(86.439,111.86299999999999,92.57399999999998,100.51499999999999,103.886,97.51699999999998);ctx.bezierCurveTo(111.542,95.48599999999998,115.322,102.17199999999998,118.65599999999999,101.87699999999998);ctx.bezierCurveTo(121.761,101.60299999999998,122.833,95.69699999999997,131.643,96.01299999999998);ctx.bezierCurveTo(142.297,96.394,149.043,107.085,149.922,116.564);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#f4f4f4";ctx.beginPath();ctx.arc(201.859,110.801,30.515,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#f4f4f4";ctx.beginPath();ctx.arc(213.318,58.113,28.287,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#f4f4f4";ctx.beginPath();ctx.arc(38.31,120.279,34.862,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#f4f4f4";ctx.beginPath();ctx.arc(76.606,123.695,25.354,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#f4f4f4";ctx.beginPath();ctx.arc(161.299,115.384,25.102,0,6.283185307179586,true);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.save();ctx.fillStyle="#428090";ctx.beginPath();ctx.moveTo(96.128,121.773);ctx.bezierCurveTo(96.581,127.00699999999999,95.104,131.654,91.697,135.707);ctx.bezierCurveTo(88.32000000000001,139.725,84.015,141.959,78.779,142.412);ctx.bezierCurveTo(73.54299999999999,142.865,68.91799999999999,141.404,64.901,138.029);ctx.bezierCurveTo(60.88399999999999,134.652,58.647,130.32999999999998,58.190999999999995,125.05799999999999);ctx.bezierCurveTo(57.736999999999995,119.823,59.199,115.19699999999999,62.57599999999999,111.17899999999999);ctx.bezierCurveTo(65.981,107.12599999999999,70.28699999999999,104.87299999999999,75.488,104.42299999999999);ctx.bezierCurveTo(80.724,103.96999999999998,85.351,105.448,89.371,108.85899999999998);ctx.bezierCurveTo(93.422,112.232,95.674,116.537,96.128,121.773);ctx.closePath();ctx.moveTo(84.987,122.738);ctx.bezierCurveTo(84.803,120.617,83.87599999999999,118.851,82.204,117.445);ctx.bezierCurveTo(80.52999999999999,116.03899999999999,78.616,115.42899999999999,76.458,115.615);ctx.bezierCurveTo(74.30199999999999,115.803,72.52,116.732,71.115,118.40599999999999);ctx.bezierCurveTo(69.738,120.04299999999999,69.145,121.939,69.332,124.094);ctx.bezierCurveTo(69.51599999999999,126.216,70.428,127.999,72.071,129.444);ctx.bezierCurveTo(73.77499999999999,130.813,75.688,131.405,77.81,131.22099999999998);ctx.bezierCurveTo(79.932,131.03699999999995,81.714,130.12299999999996,83.159,128.48199999999997);ctx.bezierCurveTo(84.572,126.876,85.181,124.962,84.987,122.738);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#428090";ctx.beginPath();ctx.moveTo(138.17,118.13);ctx.bezierCurveTo(138.623,123.366,137.147,128.013,133.73999999999998,132.066);ctx.bezierCurveTo(130.36299999999997,136.082,126.05899999999998,138.316,120.82299999999998,138.769);ctx.bezierCurveTo(115.58599999999998,139.22400000000002,110.96099999999998,137.763,106.94499999999998,134.386);ctx.bezierCurveTo(102.92899999999997,131.011,100.69099999999997,126.68799999999999,100.23399999999998,121.417);ctx.lineTo(99.07399999999998,108.019);ctx.bezierCurveTo(99.00899999999999,107.26700000000001,99.09199999999998,106.536,99.32399999999998,105.82600000000001);ctx.bezierCurveTo(99.55399999999999,105.117,99.89599999999999,104.48200000000001,100.34799999999998,103.92800000000001);ctx.bezierCurveTo(100.79999999999998,103.373,101.34599999999999,102.91900000000001,101.98899999999999,102.57100000000001);ctx.bezierCurveTo(102.63199999999999,102.22300000000001,103.34599999999999,102.01400000000001,104.13499999999999,101.94600000000001);ctx.bezierCurveTo(104.88699999999999,101.88100000000001,105.61699999999999,101.96500000000002,106.32799999999999,102.19600000000001);ctx.bezierCurveTo(107.03699999999999,102.42600000000002,107.67099999999999,102.778,108.228,103.24700000000001);ctx.bezierCurveTo(108.78699999999999,103.71600000000001,109.241,104.28000000000002,109.58999999999999,104.93800000000002);ctx.bezierCurveTo(109.93999999999998,105.59800000000001,110.148,106.30300000000001,110.213,107.05700000000002);ctx.lineTo(111.37299999999999,120.45400000000002);ctx.bezierCurveTo(111.55799999999999,122.57500000000002,112.46999999999998,124.35700000000003,114.112,125.80200000000002);ctx.bezierCurveTo(115.817,127.17200000000003,117.729,127.76600000000002,119.853,127.58100000000002);ctx.bezierCurveTo(121.973,127.39600000000002,123.756,126.48200000000001,125.201,124.84100000000002);ctx.bezierCurveTo(126.613,123.23700000000002,127.222,121.32000000000002,127.03099999999999,119.09800000000003);ctx.lineTo(125.86899999999999,105.70000000000003);ctx.bezierCurveTo(125.80599999999998,104.94800000000004,125.88999999999999,104.21700000000003,126.11899999999999,103.50700000000003);ctx.bezierCurveTo(126.34799999999998,102.79800000000003,126.69199999999998,102.16500000000003,127.14299999999999,101.60900000000004);ctx.bezierCurveTo(127.59399999999998,101.05400000000003,128.141,100.60100000000004,128.785,100.25300000000004);ctx.bezierCurveTo(129.428,99.90200000000004,130.139,99.69500000000004,130.93,99.62800000000004);ctx.bezierCurveTo(131.68200000000002,99.56300000000005,132.412,99.64700000000005,133.12300000000002,99.87600000000005);ctx.bezierCurveTo(133.83200000000002,100.10700000000004,134.467,100.45900000000005,135.02300000000002,100.92700000000005);ctx.bezierCurveTo(135.58200000000002,101.39700000000005,136.03700000000003,101.96000000000005,136.38200000000003,102.61900000000004);ctx.bezierCurveTo(136.73400000000004,103.27900000000004,136.94300000000004,103.98400000000004,137.00700000000003,104.73600000000005);ctx.lineTo(138.17,118.13);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#428090";ctx.beginPath();ctx.moveTo(178.469,124.208);ctx.bezierCurveTo(177.012,127.301,174.90099999999998,129.811,172.137,131.739);ctx.bezierCurveTo(169.342,133.70600000000002,166.27,134.833,162.914,135.124);ctx.bezierCurveTo(157.678,135.577,153.035,134.118,148.98399999999998,130.745);ctx.bezierCurveTo(144.96599999999998,127.336,142.73,123.012,142.277,117.77600000000001);ctx.bezierCurveTo(141.82199999999997,112.54,143.283,107.91400000000002,146.658,103.897);ctx.bezierCurveTo(150.06599999999997,99.843,154.387,97.589,159.623,97.137);ctx.bezierCurveTo(161.334,96.989,163.006,97.059,164.635,97.348);ctx.bezierCurveTo(166.262,97.639,167.813,98.132,169.28699999999998,98.833);ctx.bezierCurveTo(170.76199999999997,99.532,172.13899999999998,100.42099999999999,173.42399999999998,101.5);ctx.bezierCurveTo(174.70699999999997,102.578,175.83999999999997,103.816,176.82399999999998,105.214);ctx.bezierCurveTo(177.414,106.06099999999999,177.75199999999998,106.995,177.83999999999997,108.024);ctx.bezierCurveTo(178.02599999999998,110.145,177.23999999999998,111.81700000000001,175.48299999999998,113.038);ctx.bezierCurveTo(174.63699999999997,113.628,173.73499999999999,113.964,172.77799999999996,114.048);ctx.bezierCurveTo(171.78799999999995,114.134,170.83499999999995,113.967,169.91699999999997,113.546);ctx.bezierCurveTo(169.003,113.126,168.24899999999997,112.49300000000001,167.65899999999996,111.64800000000001);ctx.bezierCurveTo(165.96199999999996,109.17500000000001,163.60599999999997,108.06800000000001,160.59699999999995,108.33000000000001);ctx.bezierCurveTo(158.47399999999996,108.51600000000002,156.69099999999995,109.427,155.24699999999996,111.06800000000001);ctx.bezierCurveTo(153.83699999999996,112.70900000000002,153.22599999999997,114.62400000000001,153.41699999999994,116.81200000000001);ctx.bezierCurveTo(153.60099999999994,118.93500000000002,154.52799999999993,120.70000000000002,156.20399999999995,122.10500000000002);ctx.bezierCurveTo(157.87799999999996,123.51100000000002,159.79199999999994,124.12200000000001,161.94599999999994,123.93500000000002);ctx.bezierCurveTo(163.38499999999993,123.81000000000002,164.65299999999993,123.35500000000002,165.75799999999995,122.57000000000002);ctx.bezierCurveTo(166.86299999999994,121.78600000000002,167.72099999999995,120.74600000000002,168.33199999999997,119.45200000000003);ctx.bezierCurveTo(169.22999999999996,117.47800000000002,170.77299999999997,116.39400000000003,172.96499999999997,116.20600000000003);ctx.bezierCurveTo(173.71699999999998,116.14300000000003,174.44199999999998,116.23200000000003,175.13499999999996,116.48200000000003);ctx.bezierCurveTo(175.82799999999995,116.73200000000003,176.45499999999996,117.09100000000002,177.01199999999997,117.56000000000003);ctx.bezierCurveTo(177.57099999999997,118.03100000000003,178.02199999999996,118.58500000000004,178.37299999999996,119.22800000000004);ctx.bezierCurveTo(178.72099999999998,119.87100000000004,178.92799999999997,120.56800000000004,178.99199999999996,121.32000000000004);ctx.bezierCurveTo(179.082,122.345,178.908,123.308,178.469,124.208);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#428090";ctx.beginPath();ctx.moveTo(221.619,124.4);ctx.bezierCurveTo(221.687,125.18700000000001,221.603,125.926,221.369,126.62100000000001);ctx.bezierCurveTo(221.137,127.31200000000001,220.785,127.93700000000001,220.318,128.496);ctx.bezierCurveTo(219.84900000000002,129.055,219.28500000000003,129.508,218.627,129.858);ctx.bezierCurveTo(217.96900000000002,130.21,217.26000000000002,130.417,216.508,130.481);ctx.bezierCurveTo(215.002,130.612,213.654,130.176,212.46300000000002,129.174);ctx.bezierCurveTo(211.27400000000003,128.174,210.61100000000002,126.90400000000001,210.479,125.364);ctx.lineTo(209.80300000000003,117.56);ctx.lineTo(194.14700000000002,118.916);ctx.lineTo(194.82500000000002,126.72);ctx.bezierCurveTo(194.89100000000002,127.507,194.80900000000003,128.255,194.58100000000002,128.965);ctx.bezierCurveTo(194.34900000000002,129.67600000000002,194.00500000000002,130.299,193.55400000000003,130.838);ctx.bezierCurveTo(193.10100000000003,131.37699999999998,192.54200000000003,131.822,191.88200000000003,132.172);ctx.bezierCurveTo(191.22600000000003,132.524,190.50300000000004,132.733,189.71600000000004,132.801);ctx.bezierCurveTo(188.20800000000003,132.932,186.86100000000005,132.49599999999998,185.67100000000005,131.494);ctx.bezierCurveTo(184.48000000000005,130.496,183.81700000000004,129.224,183.68500000000006,127.685);ctx.lineTo(181.36500000000007,100.888);ctx.bezierCurveTo(181.30100000000007,100.13600000000001,181.38100000000006,99.405,181.61500000000007,98.69500000000001);ctx.bezierCurveTo(181.84500000000006,97.98400000000001,182.18500000000006,97.35100000000001,182.63800000000006,96.796);ctx.bezierCurveTo(183.09100000000007,96.241,183.63800000000006,95.787,184.28100000000006,95.438);ctx.bezierCurveTo(184.92200000000005,95.09,185.63600000000005,94.882,186.42600000000007,94.813);ctx.bezierCurveTo(187.17800000000008,94.75,187.90800000000007,94.833,188.61700000000008,95.063);ctx.bezierCurveTo(189.3280000000001,95.294,189.96300000000008,95.645,190.51900000000006,96.11500000000001);ctx.bezierCurveTo(191.07600000000005,96.584,191.53100000000006,97.147,191.88200000000006,97.805);ctx.bezierCurveTo(192.23200000000006,98.465,192.43900000000005,99.17200000000001,192.50500000000005,99.924);ctx.lineTo(193.18100000000004,107.727);ctx.lineTo(208.83700000000005,106.372);ctx.lineTo(208.15900000000005,98.569);ctx.bezierCurveTo(208.09500000000006,97.815,208.17900000000006,97.086,208.41100000000006,96.375);ctx.bezierCurveTo(208.64000000000007,95.666,208.98100000000005,95.033,209.43200000000004,94.478);ctx.bezierCurveTo(209.88500000000005,93.91999999999999,210.43000000000004,93.46799999999999,211.07500000000005,93.121);ctx.bezierCurveTo(211.72000000000006,92.771,212.43000000000004,92.564,213.22000000000006,92.496);ctx.bezierCurveTo(213.97200000000007,92.42999999999999,214.70600000000005,92.514,215.41500000000005,92.74499999999999);ctx.bezierCurveTo(216.12200000000004,92.97599999999998,216.75700000000006,93.32699999999998,217.31300000000005,93.79599999999999);ctx.bezierCurveTo(217.87200000000004,94.26599999999999,218.32700000000006,94.829,218.67400000000004,95.48799999999999);ctx.bezierCurveTo(219.02400000000003,96.14599999999999,219.23300000000003,96.85299999999998,219.29700000000003,97.60499999999999);ctx.lineTo(221.619,124.4);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.save();ctx.fillStyle="#428090";ctx.beginPath();ctx.moveTo(38.49,129.896);ctx.lineTo(49.224000000000004,128.964);ctx.bezierCurveTo(49.825,128.913,50.419000000000004,129.069,51.004000000000005,129.435);ctx.bezierCurveTo(51.586000000000006,129.802,52.11600000000001,130.331,52.592000000000006,131.023);ctx.bezierCurveTo(53.068000000000005,131.714,53.462,132.539,53.779,133.492);ctx.bezierCurveTo(54.094,134.445,54.300000000000004,135.453,54.392,136.521);ctx.bezierCurveTo(54.49,137.64,54.461000000000006,138.68099999999998,54.313,139.648);ctx.bezierCurveTo(54.162,140.617,53.914,141.482,53.564,142.246);ctx.bezierCurveTo(53.215,143.012,52.785,143.625,52.273,144.084);ctx.bezierCurveTo(51.759,144.54500000000002,51.201,144.803,50.601000000000006,144.854);ctx.lineTo(39.86500000000001,145.78400000000002);ctx.moveTo(35.193,91.855);ctx.bezierCurveTo(35.193,91.855,43.245,91.158,45.928,90.924);ctx.bezierCurveTo(46.528,90.872,47.122,91.028,47.706999999999994,91.396);ctx.bezierCurveTo(48.288999999999994,91.761,48.81999999999999,92.291,49.294999999999995,92.984);ctx.bezierCurveTo(49.769999999999996,93.675,50.16499999999999,94.5,50.483,95.451);ctx.bezierCurveTo(50.797,96.40199999999999,51.004,97.413,51.096,98.47999999999999);ctx.bezierCurveTo(51.193,99.59899999999999,51.163999999999994,100.63999999999999,51.016,101.609);ctx.bezierCurveTo(50.864999999999995,102.576,50.617,103.44099999999999,50.268,104.20599999999999);ctx.bezierCurveTo(49.918,104.97099999999999,49.488,105.58399999999999,48.977000000000004,106.04399999999998);ctx.bezierCurveTo(48.463,106.50499999999998,47.905,106.76099999999998,47.304,106.81299999999999);ctx.lineTo(36.569,107.74399999999999);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#428090";ctx.beginPath();ctx.moveTo(38.746,107.554);ctx.bezierCurveTo(35.685,107.82000000000001,33.156000000000006,109.138,31.160000000000004,111.515);ctx.bezierCurveTo(29.206000000000003,113.839,28.363000000000003,116.531,28.629000000000005,119.59100000000001);ctx.bezierCurveTo(28.891000000000005,122.60300000000001,30.185000000000006,125.13400000000001,32.51800000000001,127.185);ctx.bezierCurveTo(34.93800000000001,129.129,37.65400000000001,129.969,40.665000000000006,129.709);ctx.lineTo(42.041000000000004,145.596);ctx.bezierCurveTo(34.608000000000004,146.239,28.043000000000006,144.16400000000002,22.342000000000002,139.373);ctx.bezierCurveTo(16.64,134.57999999999998,13.463000000000003,128.44299999999998,12.815000000000003,120.96);ctx.bezierCurveTo(12.170000000000003,113.526,14.247000000000003,106.95899999999999,19.040000000000003,101.258);ctx.bezierCurveTo(23.876000000000005,95.50399999999999,29.987000000000002,92.306,37.370000000000005,91.667);ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.restore();ctx.save();ctx.fillStyle="#f4f4f4";ctx.beginPath();ctx.moveTo(30.435,44.376000000000005);ctx.bezierCurveTo(44.93247468305833,44.376000000000005,56.685,55.859448451589984,56.685,70.025);ctx.bezierCurveTo(56.685,84.19055154841003,44.93247468305833,95.674,30.435,95.674);ctx.bezierCurveTo(15.937525316941668,95.674,4.184999999999999,84.19055154841003,4.184999999999999,70.025);ctx.bezierCurveTo(4.184999999999999,55.859448451589984,15.937525316941668,44.376000000000005,30.435,44.376000000000005);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#f4f4f4";ctx.beginPath();ctx.moveTo(89.326,78.948);ctx.bezierCurveTo(83.012,89.97999999999999,67.52099999999999,93.258,54.72599999999999,86.267);ctx.bezierCurveTo(41.93099999999999,79.274,36.67699999999999,64.663,42.99199999999999,53.63099999999999);ctx.bezierCurveTo(49.30499999999999,42.59799999999999,64.79599999999999,39.32099999999999,77.59099999999998,46.31199999999999);ctx.bezierCurveTo(90.386,53.305,95.639,67.916,89.326,78.948);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#f4f4f4";ctx.beginPath();ctx.moveTo(98.177,42.230999999999995);ctx.bezierCurveTo(111.11371798003651,42.230999999999995,121.601,52.47830664587279,121.601,65.119);ctx.bezierCurveTo(121.601,77.75969335412721,111.11371798003651,88.007,98.177,88.007);ctx.bezierCurveTo(85.2402820199635,88.007,74.75300000000001,77.75969335412721,74.75300000000001,65.119);ctx.bezierCurveTo(74.75300000000001,52.47830664587279,85.2402820199635,42.230999999999995,98.177,42.230999999999995);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#f4f4f4";ctx.beginPath();ctx.moveTo(165.783,59.676);ctx.bezierCurveTo(166.951,72.264,155.17,83.59700000000001,139.46699999999998,84.988);ctx.bezierCurveTo(123.76399999999998,86.379,110.08999999999999,77.3,108.92299999999999,64.711);ctx.bezierCurveTo(108.05999999999999,55.402,113.63999999999999,45.084,123.92499999999998,42.357);ctx.bezierCurveTo(130.885,40.510999999999996,134.32099999999997,46.591,137.35199999999998,46.323);ctx.bezierCurveTo(140.176,46.073,141.15099999999998,40.704,149.164,40.99);ctx.bezierCurveTo(158.85,41.335,164.984,51.059,165.783,59.676);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#f4f4f4";ctx.beginPath();ctx.moveTo(176.111,37.153000000000006);ctx.bezierCurveTo(189.0477179800365,37.153000000000006,199.535,47.40075436112297,199.535,60.042);ctx.bezierCurveTo(199.535,72.68324563887704,189.0477179800365,82.931,176.111,82.931);ctx.bezierCurveTo(163.17428201996347,82.931,152.68699999999998,72.68324563887704,152.68699999999998,60.042);ctx.bezierCurveTo(152.68699999999998,47.40075436112297,163.17428201996347,37.153000000000006,176.111,37.153000000000006);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#f4f4f4";ctx.beginPath();ctx.moveTo(31.262,23.368999999999996);ctx.bezierCurveTo(44.198717980036506,23.368999999999996,54.686,33.6163066458728,54.686,46.257);ctx.bezierCurveTo(54.686,58.8976933541272,44.198717980036506,69.145,31.262,69.145);ctx.bezierCurveTo(18.325282019963492,69.145,7.838000000000001,58.8976933541272,7.838000000000001,46.257);ctx.bezierCurveTo(7.838000000000001,33.6163066458728,18.325282019963492,23.368999999999996,31.262,23.368999999999996);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#e3ad26";ctx.beginPath();ctx.moveTo(82.198,77.634);ctx.bezierCurveTo(82.246,78.337,82.15599999999999,78.992,81.931,79.606);ctx.bezierCurveTo(81.706,80.22,81.37299999999999,80.771,80.935,81.258);ctx.bezierCurveTo(80.49600000000001,81.747,79.971,82.14399999999999,79.36200000000001,82.443);ctx.bezierCurveTo(78.75300000000001,82.745,78.102,82.91799999999999,77.412,82.964);ctx.lineTo(72.549,83.28099999999999);ctx.bezierCurveTo(67.748,83.59299999999999,63.54100000000001,82.213,59.92600000000001,79.13799999999999);ctx.bezierCurveTo(56.30900000000001,76.06099999999999,54.33900000000001,72.17299999999999,54.01500000000001,67.47);ctx.lineTo(53.190000000000005,55.516999999999996);ctx.bezierCurveTo(53.14300000000001,54.846,53.233000000000004,54.196,53.458000000000006,53.565999999999995);ctx.bezierCurveTo(53.681000000000004,52.937999999999995,54.007000000000005,52.379999999999995,54.43000000000001,51.894);ctx.bezierCurveTo(54.85300000000001,51.406,55.36200000000001,51.012,55.955000000000005,50.713);ctx.bezierCurveTo(56.54900000000001,50.413000000000004,57.20700000000001,50.24,57.929,50.192);ctx.bezierCurveTo(58.618,50.147,59.286,50.234,59.933,50.453);ctx.bezierCurveTo(60.578,50.67100000000001,61.152,50.995000000000005,61.653999999999996,51.42100000000001);ctx.bezierCurveTo(62.156,51.848000000000006,62.562,52.35900000000001,62.872,52.95100000000001);ctx.bezierCurveTo(63.18,53.54600000000001,63.357,54.178000000000004,63.402,54.85000000000001);ctx.lineTo(64.228,66.804);ctx.bezierCurveTo(64.359,68.697,65.16199999999999,70.301,66.64,71.614);ctx.bezierCurveTo(68.175,72.864,69.915,73.424,71.862,73.298);ctx.lineTo(76.726,72.98);ctx.bezierCurveTo(77.41499999999999,72.934,78.083,73.022,78.728,73.241);ctx.bezierCurveTo(79.374,73.459,79.949,73.781,80.451,74.209);ctx.bezierCurveTo(80.95299999999999,74.63600000000001,81.357,75.147,81.66799999999999,75.74000000000001);ctx.bezierCurveTo(81.972,76.332,82.151,76.962,82.198,77.634);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#e3ad26";ctx.beginPath();ctx.moveTo(116.106,63.412);ctx.bezierCurveTo(116.428,68.082,114.993,72.194,111.804,75.746);ctx.bezierCurveTo(108.643,79.26299999999999,104.662,81.17999999999999,99.863,81.494);ctx.bezierCurveTo(95.062,81.80799999999999,90.855,80.427,87.239,77.351);ctx.bezierCurveTo(83.62400000000001,74.276,81.653,70.386,81.328,65.684);ctx.bezierCurveTo(81.006,61.012,82.426,56.916,85.587,53.397);ctx.bezierCurveTo(88.775,49.847,92.75500000000001,47.914,97.525,47.602);ctx.bezierCurveTo(102.32600000000001,47.288999999999994,106.53500000000001,48.686,110.152,51.791);ctx.bezierCurveTo(113.797,54.867,115.785,58.74,116.106,63.412);ctx.closePath();ctx.moveTo(105.894,64.079);ctx.bezierCurveTo(105.763,62.18599999999999,104.94500000000001,60.59799999999999,103.43900000000001,59.31699999999999);ctx.bezierCurveTo(101.933,58.035999999999994,100.191,57.459999999999994,98.21400000000001,57.587999999999994);ctx.bezierCurveTo(96.23700000000001,57.71699999999999,94.59100000000001,58.51499999999999,93.27400000000002,59.98199999999999);ctx.bezierCurveTo(91.98600000000002,61.41599999999999,91.40800000000002,63.093999999999994,91.54100000000001,65.01799999999999);ctx.bezierCurveTo(91.67200000000001,66.91299999999998,92.47600000000001,68.51499999999999,93.95500000000001,69.82899999999998);ctx.bezierCurveTo(95.48900000000002,71.07799999999997,97.22800000000001,71.63899999999998,99.17600000000002,71.51299999999998);ctx.bezierCurveTo(101.12000000000002,71.38499999999998,102.76800000000001,70.60199999999998,104.11800000000002,69.16499999999998);ctx.bezierCurveTo(105.438,67.758,106.031,66.062,105.894,64.079);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#e3ad26";ctx.beginPath();ctx.moveTo(154.646,60.892);ctx.bezierCurveTo(154.968,65.56400000000001,153.535,69.676,150.345,73.226);ctx.bezierCurveTo(147.187,76.746,143.204,78.662,138.404,78.976);ctx.bezierCurveTo(133.60399999999998,79.28999999999999,129.396,77.908,125.779,74.833);ctx.bezierCurveTo(122.164,71.756,120.194,67.869,119.86999999999999,63.167);ctx.lineTo(119.04499999999999,51.213);ctx.bezierCurveTo(118.99799999999999,50.541000000000004,119.08699999999999,49.891,119.31199999999998,49.263);ctx.bezierCurveTo(119.53699999999998,48.635,119.86099999999999,48.077,120.28399999999998,47.589999999999996);ctx.bezierCurveTo(120.70599999999997,47.102,121.21599999999998,46.708999999999996,121.81099999999998,46.41);ctx.bezierCurveTo(122.40399999999998,46.111,123.06099999999998,45.936,123.78299999999997,45.888999999999996);ctx.bezierCurveTo(124.47199999999997,45.845,125.13799999999998,45.931999999999995,125.78699999999998,46.148999999999994);ctx.bezierCurveTo(126.43199999999997,46.367999999999995,127.00599999999997,46.690999999999995,127.50599999999997,47.117999999999995);ctx.bezierCurveTo(128.00799999999998,47.544999999999995,128.41399999999996,48.05499999999999,128.72599999999997,48.64699999999999);ctx.bezierCurveTo(129.03499999999997,49.24199999999999,129.20999999999998,49.87499999999999,129.25699999999998,50.544999999999995);ctx.lineTo(130.081,62.49799999999999);ctx.bezierCurveTo(130.20999999999998,64.39099999999999,131.015,65.996,132.493,67.309);ctx.bezierCurveTo(134.028,68.559,135.76999999999998,69.121,137.714,68.992);ctx.bezierCurveTo(139.659,68.866,141.306,68.083,142.657,66.646);ctx.bezierCurveTo(143.979,65.24,144.571,63.546,144.434,61.561);ctx.lineTo(143.608,49.607);ctx.bezierCurveTo(143.56300000000002,48.936,143.651,48.286,143.87800000000001,47.658);ctx.bezierCurveTo(144.09900000000002,47.03,144.425,46.472,144.84900000000002,45.984);ctx.bezierCurveTo(145.27100000000002,45.497,145.78300000000002,45.102000000000004,146.37400000000002,44.803000000000004);ctx.bezierCurveTo(146.96600000000004,44.504000000000005,147.62400000000002,44.330000000000005,148.34700000000004,44.284000000000006);ctx.bezierCurveTo(149.03600000000003,44.23800000000001,149.70400000000004,44.32600000000001,150.35100000000003,44.544000000000004);ctx.bezierCurveTo(150.997,44.76200000000001,151.57400000000004,45.085,152.07400000000004,45.512);ctx.bezierCurveTo(152.57600000000005,45.94,152.98000000000005,46.45,153.29100000000005,47.043);ctx.bezierCurveTo(153.60000000000005,47.635999999999996,153.77500000000006,48.269,153.82400000000004,48.94);ctx.lineTo(154.646,60.892);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#e3ad26";ctx.beginPath();ctx.moveTo(191.42,66.999);ctx.bezierCurveTo(190.033,69.728,188.057,71.928,185.492,73.597);ctx.bezierCurveTo(182.89999999999998,75.30199999999999,180.06799999999998,76.253,176.992,76.45299999999999);ctx.bezierCurveTo(172.19299999999998,76.76699999999998,167.96699999999998,75.38699999999999,164.322,72.31299999999999);ctx.bezierCurveTo(160.703,69.207,158.734,65.317,158.412,60.64499999999999);ctx.bezierCurveTo(158.088,55.97299999999999,159.51000000000002,51.877999999999986,162.67000000000002,48.35899999999999);ctx.bezierCurveTo(165.859,44.807999999999986,169.85600000000002,42.874999999999986,174.65200000000002,42.560999999999986);ctx.bezierCurveTo(176.22400000000002,42.457999999999984,177.75000000000003,42.54999999999998,179.23600000000002,42.83699999999999);ctx.bezierCurveTo(180.71800000000002,43.12299999999999,182.13100000000003,43.58999999999999,183.466,44.23799999999999);ctx.bezierCurveTo(184.804,44.88699999999999,186.05,45.702999999999996,187.20600000000002,46.68599999999999);ctx.bezierCurveTo(188.358,47.66899999999999,189.37400000000002,48.78999999999999,190.251,50.05199999999999);ctx.bezierCurveTo(190.774,50.815999999999995,191.067,51.65599999999999,191.13400000000001,52.57099999999999);ctx.bezierCurveTo(191.26500000000001,54.46499999999999,190.51700000000002,55.93999999999999,188.88600000000002,56.99699999999999);ctx.bezierCurveTo(188.10100000000003,57.50899999999999,187.27100000000002,57.79099999999999,186.39400000000003,57.85099999999999);ctx.bezierCurveTo(185.48400000000004,57.90999999999999,184.61300000000003,57.74499999999999,183.78300000000004,57.352999999999994);ctx.bezierCurveTo(182.95300000000003,56.96399999999999,182.27100000000004,56.385999999999996,181.74800000000005,55.62199999999999);ctx.bezierCurveTo(180.23800000000006,53.391999999999996,178.10300000000004,52.364999999999995,175.34200000000004,52.544999999999995);ctx.bezierCurveTo(173.39700000000005,52.67099999999999,171.75000000000003,53.45499999999999,170.40300000000005,54.892999999999994);ctx.bezierCurveTo(169.08500000000004,56.32899999999999,168.49100000000004,58.02199999999999,168.62800000000004,59.97699999999999);ctx.bezierCurveTo(168.75900000000004,61.86999999999999,169.57500000000005,63.45799999999999,171.08300000000006,64.73899999999999);ctx.bezierCurveTo(172.58900000000006,66.02099999999999,174.32900000000006,66.597,176.30600000000007,66.46699999999998);ctx.bezierCurveTo(177.62400000000008,66.37999999999998,178.79600000000008,65.99899999999998,179.82200000000006,65.31799999999998);ctx.bezierCurveTo(180.84500000000006,64.63699999999999,181.64800000000005,63.72699999999998,182.23200000000006,62.58499999999999);ctx.bezierCurveTo(183.08900000000006,60.84299999999999,184.52100000000004,59.90499999999999,186.52900000000005,59.77399999999999);ctx.bezierCurveTo(187.21800000000005,59.72799999999999,187.87900000000005,59.822999999999986,188.50900000000004,60.05899999999998);ctx.bezierCurveTo(189.14000000000004,60.29199999999998,189.70600000000005,60.62399999999998,190.20800000000006,61.04999999999998);ctx.bezierCurveTo(190.71200000000005,61.47799999999998,191.11600000000004,61.98099999999998,191.42500000000007,62.55999999999998);ctx.bezierCurveTo(191.73200000000006,63.137999999999984,191.90900000000008,63.76199999999998,191.95600000000007,64.43399999999998);ctx.bezierCurveTo(192.016,65.35,191.84,66.206,191.42,66.999);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#e3ad26";ctx.beginPath();ctx.moveTo(230.908,67.915);ctx.bezierCurveTo(230.957,68.619,230.867,69.275,230.642,69.887);ctx.bezierCurveTo(230.417,70.5,230.083,71.051,229.646,71.539);ctx.bezierCurveTo(229.207,72.029,228.68099999999998,72.424,228.07399999999998,72.723);ctx.bezierCurveTo(227.463,73.024,226.81199999999998,73.197,226.123,73.242);ctx.bezierCurveTo(224.742,73.33200000000001,223.518,72.923,222.445,72.01100000000001);ctx.bezierCurveTo(221.373,71.10000000000001,220.791,69.95700000000001,220.695,68.58200000000001);ctx.lineTo(220.215,61.62200000000001);ctx.lineTo(205.863,62.56000000000001);ctx.lineTo(206.342,69.52100000000002);ctx.bezierCurveTo(206.39100000000002,70.22200000000001,206.30300000000003,70.88900000000001,206.078,71.51600000000002);ctx.bezierCurveTo(205.855,72.14400000000002,205.529,72.69500000000002,205.105,73.16600000000003);ctx.bezierCurveTo(204.68099999999998,73.63700000000003,204.164,74.02500000000002,203.552,74.32400000000003);ctx.bezierCurveTo(202.945,74.62500000000003,202.279,74.80000000000003,201.558,74.84500000000003);ctx.bezierCurveTo(200.177,74.93700000000003,198.951,74.52600000000002,197.88,73.61400000000003);ctx.bezierCurveTo(196.808,72.70300000000003,196.226,71.56100000000004,196.13,70.18600000000004);ctx.lineTo(194.48,46.28000000000004);ctx.bezierCurveTo(194.433,45.60800000000004,194.52499999999998,44.958000000000034,194.75,44.330000000000034);ctx.bezierCurveTo(194.973,43.702000000000034,195.297,43.144000000000034,195.721,42.656000000000034);ctx.bezierCurveTo(196.143,42.16900000000003,196.653,41.775000000000034,197.246,41.476000000000035);ctx.bezierCurveTo(197.84,41.17600000000004,198.49800000000002,41.00100000000003,199.21900000000002,40.955000000000034);ctx.bezierCurveTo(199.91000000000003,40.91000000000003,200.57800000000003,40.997000000000035,201.223,41.21500000000003);ctx.bezierCurveTo(201.869,41.433000000000035,202.442,41.75700000000003,202.94400000000002,42.18400000000003);ctx.bezierCurveTo(203.45000000000002,42.61100000000003,203.852,43.12100000000003,204.163,43.714000000000034);ctx.bezierCurveTo(204.472,44.308000000000035,204.64700000000002,44.94000000000003,204.69400000000002,45.61100000000003);ctx.lineTo(205.174,52.573000000000036);ctx.lineTo(219.52800000000002,51.63500000000003);ctx.lineTo(219.049,44.67300000000003);ctx.bezierCurveTo(219.002,44.00200000000003,219.092,43.35200000000003,219.317,42.72300000000003);ctx.bezierCurveTo(219.542,42.096000000000025,219.866,41.53700000000003,220.288,41.050000000000026);ctx.bezierCurveTo(220.71200000000002,40.562000000000026,221.22,40.16800000000003,221.815,39.86800000000002);ctx.bezierCurveTo(222.409,39.569000000000024,223.065,39.395000000000024,223.788,39.34800000000002);ctx.bezierCurveTo(224.476,39.30300000000002,225.145,39.39000000000002,225.79000000000002,39.60900000000002);ctx.bezierCurveTo(226.436,39.82700000000003,227.01100000000002,40.15000000000002,227.51300000000003,40.57700000000003);ctx.bezierCurveTo(228.01500000000004,41.004000000000026,228.41900000000004,41.51500000000003,228.73000000000005,42.108000000000025);ctx.bezierCurveTo(229.03900000000004,42.70200000000003,229.21600000000004,43.33500000000002,229.26100000000005,44.005000000000024);ctx.lineTo(230.908,67.915);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.save();ctx.fillStyle="#e3ad26";ctx.beginPath();ctx.moveTo(31.827,64.08);ctx.bezierCurveTo(26.949,64.13,22.75,62.498,19.226,59.182);ctx.bezierCurveTo(15.735,55.837,13.956,51.79,13.889999999999999,47.041000000000004);ctx.bezierCurveTo(13.823999999999998,42.293000000000006,15.488,38.225,18.883,34.836000000000006);ctx.bezierCurveTo(22.31,31.419000000000004,26.463,29.683000000000007,31.34,29.632000000000005);ctx.bezierCurveTo(32.935,29.615000000000006,34.477,29.793000000000006,35.964,30.165000000000006);ctx.bezierCurveTo(37.452,30.540000000000006,38.855,31.089000000000006,40.173,31.821000000000005);ctx.bezierCurveTo(41.489000000000004,32.551,42.706,33.447,43.822,34.50600000000001);ctx.bezierCurveTo(44.934000000000005,35.565000000000005,45.901,36.75800000000001,46.718,38.08400000000001);ctx.bezierCurveTo(47.207,38.88700000000001,47.458000000000006,39.75200000000001,47.472,40.68400000000001);ctx.bezierCurveTo(47.498000000000005,42.60800000000001,46.659,44.06000000000001,44.951,45.04000000000001);ctx.bezierCurveTo(44.128,45.515000000000015,43.269,45.756000000000014,42.378,45.765000000000015);ctx.bezierCurveTo(41.453,45.77500000000001,40.582,45.558000000000014,39.763,45.118000000000016);ctx.bezierCurveTo(38.943999999999996,44.677000000000014,38.289,44.05600000000002,37.797999999999995,43.25200000000002);ctx.bezierCurveTo(36.394999999999996,40.91000000000002,34.288999999999994,39.75100000000002,31.483999999999995,39.780000000000015);ctx.bezierCurveTo(29.506999999999994,39.801000000000016,27.795999999999996,40.50200000000002,26.349999999999994,41.88300000000002);ctx.bezierCurveTo(24.933999999999994,43.26300000000002,24.239999999999995,44.94600000000002,24.267999999999994,46.932000000000016);ctx.bezierCurveTo(24.294999999999995,48.85700000000001,25.035999999999994,50.509000000000015,26.490999999999993,51.890000000000015);ctx.bezierCurveTo(27.944999999999993,53.271000000000015,29.67599999999999,53.95200000000001,31.68399999999999,53.930000000000014);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#e3ad26";ctx.beginPath();ctx.moveTo(31.124,54.15);ctx.bezierCurveTo(36.001999999999995,54.1,40.203,55.733,43.725,59.047);ctx.bezierCurveTo(47.215,62.391999999999996,48.994,66.439,49.062,71.187);ctx.bezierCurveTo(49.129,75.937,47.464,80.003,44.068,83.394);ctx.bezierCurveTo(40.641,86.81,36.488,88.54700000000001,31.608999999999998,88.59700000000001);ctx.bezierCurveTo(30.017,88.61500000000001,28.473999999999997,88.43700000000001,26.985999999999997,88.06400000000001);ctx.bezierCurveTo(25.499999999999996,87.691,24.095999999999997,87.14,22.778999999999996,86.41000000000001);ctx.bezierCurveTo(21.461999999999996,85.68,20.243999999999996,84.78300000000002,19.130999999999997,83.72400000000002);ctx.bezierCurveTo(18.016,82.66300000000001,17.048999999999996,81.47000000000001,16.234999999999996,80.14500000000002);ctx.bezierCurveTo(15.744999999999996,79.34200000000003,15.493999999999996,78.47700000000002,15.479999999999995,77.54400000000003);ctx.bezierCurveTo(15.453999999999995,75.62100000000002,16.291999999999994,74.16800000000002,18.001999999999995,73.18800000000003);ctx.bezierCurveTo(18.823999999999995,72.71400000000003,19.682999999999996,72.47400000000003,20.573999999999995,72.46300000000004);ctx.bezierCurveTo(21.497999999999994,72.45400000000004,22.370999999999995,72.66900000000004,23.188999999999993,73.11100000000003);ctx.bezierCurveTo(24.006999999999994,73.55100000000003,24.661999999999992,74.17400000000004,25.15299999999999,74.97400000000003);ctx.bezierCurveTo(26.55599999999999,77.31900000000003,28.661999999999992,78.47700000000003,31.467999999999993,78.44800000000004);ctx.bezierCurveTo(33.44499999999999,78.42600000000003,35.15599999999999,77.72600000000004,36.602999999999994,76.34600000000003);ctx.bezierCurveTo(38.01899999999999,74.96400000000003,38.711999999999996,73.28000000000003,38.684,71.29500000000003);ctx.bezierCurveTo(38.656,69.37000000000003,37.916,67.71900000000004,36.461,66.33700000000003);ctx.bezierCurveTo(35.007,64.95700000000004,33.275,64.27500000000003,31.267,64.29600000000003);ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.restore();ctx.save();ctx.save();ctx.fillStyle="#1d1d1b";ctx.beginPath();ctx.moveTo(123.538,41.521);ctx.lineTo(110.502,32.474000000000004);ctx.lineTo(95.25699999999999,31.633000000000003);ctx.lineTo(91.472,38.362);ctx.lineTo(85.16399999999999,41.305);ctx.bezierCurveTo(85.16399999999999,41.305,84.17699999999999,56.203,85.576,61.071);ctx.bezierCurveTo(86.75,65.155,91.755,73.288,95.774,74.669);ctx.bezierCurveTo(98.427,75.58,104.269,73.282,106.602,71.725);ctx.bezierCurveTo(108.717,70.31299999999999,111.662,65.195,111.263,62.68299999999999);ctx.bezierCurveTo(111.14500000000001,61.93699999999999,109.43400000000001,60.87299999999999,108.70400000000001,61.071999999999996);ctx.bezierCurveTo(106.51,61.669,105.066,66.868,103.23700000000001,68.22099999999999);ctx.bezierCurveTo(102.01400000000001,69.12599999999999,99.052,70.02499999999999,97.63100000000001,69.48299999999999);ctx.bezierCurveTo(95.62300000000002,68.71699999999998,93.23400000000001,64.529,92.02400000000002,62.75399999999999);ctx.bezierCurveTo(88.79900000000002,58.02299999999999,91.18300000000002,48.24499999999999,91.18300000000002,48.24499999999999);ctx.bezierCurveTo(91.18300000000002,48.24499999999999,109.16200000000002,52.55599999999999,113.75100000000002,51.53899999999999);ctx.bezierCurveTo(118.98900000000002,50.37999999999999,132.395,41.26899999999999,132.395,41.26899999999999);ctx.lineTo(144.452,45.79099999999999);ctx.lineTo(156.225,42.42499999999999);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#1d1d1b";ctx.beginPath();ctx.moveTo(156.227,43.541);ctx.lineTo(156.227,38.221);ctx.lineTo(151.461,35.928);ctx.lineTo(152.721,27.476);ctx.lineTo(149.777,18.372);ctx.lineTo(151.881,6.549);ctx.lineTo(143.049,16.42);ctx.lineTo(135.199,16.075);ctx.lineTo(126.368,6.549);ctx.lineTo(126.368,18.458);ctx.lineTo(122.864,23.271);ctx.lineTo(109.546,26.534);ctx.lineTo(91.99,24.168);ctx.lineTo(85.423,41.165);ctx.lineTo(91.184,47.523);ctx.lineTo(113.893,36.049);ctx.lineTo(116.29,49.998);ctx.lineTo(136.32,47.193);ctx.lineTo(142.348,49.998);ctx.lineTo(156.227,43.541);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#ffffff";ctx.miterLimit=10;ctx.beginPath();ctx.moveTo(136.32,47.193);ctx.lineTo(137.453,43.167);ctx.lineTo(143.26,43.167);ctx.lineTo(146.203,41.165);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#ffffff";ctx.miterLimit=10;ctx.beginPath();ctx.moveTo(117.187,49.926);ctx.bezierCurveTo(117.187,49.926,114.92999999999999,42.284,110.458,41.163000000000004);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#94c570";ctx.beginPath();ctx.moveTo(135.27,29.11);ctx.bezierCurveTo(135.27,29.11,131.905,24.064,127.06900000000002,25.851);ctx.bezierCurveTo(127.069,25.852,130.223,30.163,135.27,29.11);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#94c570";ctx.beginPath();ctx.moveTo(141.262,29.11);ctx.bezierCurveTo(141.262,29.11,144.578,24.064,149.346,25.851);ctx.bezierCurveTo(149.346,25.852,146.236,30.163,141.262,29.11);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#1d1d1b";ctx.lineWidth=2;ctx.miterLimit=10;ctx.beginPath();ctx.moveTo(131.627,25.431);ctx.lineTo(131.627,27.792);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="rgba(0, 0, 0, 0)";ctx.strokeStyle="#1d1d1b";ctx.lineWidth=2;ctx.miterLimit=10;ctx.beginPath();ctx.moveTo(146.203,25.009);ctx.lineTo(146.203,27.373);ctx.fill();ctx.stroke();ctx.restore();ctx.save();ctx.fillStyle="#cba2a5";ctx.beginPath();ctx.moveTo(136.615,31.423);ctx.lineTo(139.023,31.423);ctx.lineTo(137.705,32.686);ctx.lineTo(136.615,31.423);ctx.closePath();ctx.fill();ctx.stroke();ctx.restore();ctx.restore();ctx.restore();ctx.restore();};});

// lib/plugins/utilities.js
ig.baked=true;ig.module('plugins.utilities').defines(function(){randomRange=function(a,b){return Math.random()*((a<b)?(b-a):(a-b))+((a<b)?a:b);};Number.prototype.quarticEaseOut=function(from_min,from_max,to_min,to_max){var normalizedValue=this.map(from_min,from_max,0,1);var quarticValue=Math.pow(normalizedValue,1/4);return quarticValue.map(0,1,to_min,to_max);};Number.prototype.quarticEaseIn=function(from_min,from_max,to_min,to_max){var normalizedValue=this.map(from_min,from_max,0,1);var quarticValue=Math.pow(normalizedValue,4);return quarticValue.map(0,1,to_min,to_max);};Number.prototype.quadraticEaseOut=function(from_min,from_max,to_min,to_max){var normalizedValue=this.map(from_min,from_max,0,1);var quadraticValue=Math.pow(normalizedValue,1/2);return quadraticValue.map(0,1,to_min,to_max);};Number.prototype.quadraticEaseIn=function(from_min,from_max,to_min,to_max){var normalizedValue=this.map(from_min,from_max,0,1);var quadraticValue=Math.pow(normalizedValue,2);return quadraticValue.map(0,1,to_min,to_max);};});

// lib/plugins/touchcontrols.js
ig.baked=true;ig.module('plugins.touchcontrols').requires('impact.animation','impact.entity','impact.game').defines(function(){TouchControls=ig.Class.extend({_debug:true,touchable:false,selector:null,buttons:[],touchEntities:[],mobilizer:null,staticInstantiate:function(){if(TouchControls.instance==null){return null;}
else{return TouchControls.instance;}},joystick:null,init:function(selector){var canvas=ig.system.canvas;TouchControls.instance=this;this.touchable='createTouch'in document;this.selector=selector;this.controlsActivate(selector);this.mobilizer=new Mobilizer(canvas.width,canvas.height,'portrait');if(ig.ua.mobile){this.mobilizer.mobilize();}},draw:function(){if(this.touchable&&this.joystick){this.joystick.draw();}
for(var i=0;i<this.buttons.length;i++){this.buttons[i].draw();}},update:function(){for(var i=0;i<this.buttons.length;i++){if(this.buttons[i].update){this.buttons[i].update();}}
if(this.touchable&&this.joystick){this.joystick.update();}
if(ig.ua.mobile){this.mobilizer.update();}},makeJoystick:function(x,y,id){if(!this.joystick){this.joystick=new Joystick(x,y,id);}},addButton:function(type,x,y,settings){var buttonClass=typeof(type)==='string'?ig.global[type]:type;if(!buttonClass){throw('cant add button of type '+type);}
var button=new(buttonClass)(x,y,settings||{});this.buttons.push(button);return button;},removeButton:function(button){this.buttons.erase(button);},clearButtons:function(){var goThrough=this.buttons.length;for(var i=0;i<goThrough;i++){if(this.buttons[this.buttons.length-1-i]&&!this.buttons[this.buttons.length-1-i].isPersistent){this.buttons.erase(this.buttons[this.buttons.length-1-i]);i++;}}},controlsActivate:function(selector){if(this.touchable){selector.addEventListener('touchstart',this.onMouseDown,false);selector.addEventListener('touchend',this.onMouseUp,false);selector.addEventListener('touchmove',this.onTouchMove,false);}
else{selector.addEventListener('mousedown',this.onMouseDown,false);selector.addEventListener('mouseup',this.onMouseUp,false);}},onMouseUp:function(ev){ev.preventDefault();if(this.touchable){}
var that=new TouchControls(ig.system.canvas);var clickPosition=that.getPosition(ev);for(var i=0;i<that.buttons.length;i++){if(that.touchable){for(var j=0;j<ev.changedTouches.length;j++){clickPosition=that.getPosition(ev.changedTouches[j]);that.buttons[i].checkIfMouseUp(clickPosition.x,clickPosition.y,ev.changedTouches[j].identifier);}}
else{that.buttons[i].checkIfMouseUp(clickPosition.x,clickPosition.y);}}},onMouseDown:function(ev){ev.preventDefault();if(this.touchable){for(var n=0;n<ev.changedTouches.length;n++){}}
var that=new TouchControls(ig.system.canvas);var clickPosition=that.getPosition(ev);for(var i=0;i<that.buttons.length;i++){if(that.touchable){for(var j=0;j<ev.changedTouches.length;j++){clickPosition=that.getPosition(ev.changedTouches[j]);that.buttons[i].checkIfMouseDown(clickPosition.x,clickPosition.y,ev.changedTouches[j].identifier);}}
else{that.buttons[i].checkIfMouseDown(clickPosition.x,clickPosition.y);}}
for(var j=0;j<that.touchEntities.length;j++){that.touchEntities[j].checkIfClicked(clickPosition.x,clickPosition.y);}},onClick:function(ev){ev.preventDefault();var that=new TouchControls(ig.system.canvas);var clickPosition=that.getPosition(ev);for(var i=0;i<that.buttons.length;i++){that.buttons[i].checkIfClicked(clickPosition.x,clickPosition.y);}},onTouchMove:function(ev){ev.preventDefault();var that=new TouchControls(ig.system.canvas);if(that.joystick){for(var i=0;i<ev.changedTouches.length;i++){if(ev.changedTouches[i].identifier==that.joystick.touchId){that.joystick.thumbPos=that.getPosition(ev.changedTouches[i]);if(that.joystick.thumbPos.x>that.joystick.pos.x+20){ig.input.actions['right']=true;ig.input.actions['left']=false;}
else if(that.joystick.thumbPos.x<that.joystick.pos.x-20){ig.input.actions['left']=true;ig.input.actions['right']=false;}
else{ig.input.actions['left']=false;ig.input.actions['right']=false;}
i=ev.changedTouches.length;}}}},getPosition:function(ev){var canvas=ig.system.canvas;var x=ev.x;var y=ev.y;if(ev.x||ev.x==0){x=ev.x;y=ev.y;if(canvas.parentElement.className=='large_container'){x-=canvas.parentElement.offsetLeft;y-=canvas.parentElement.offsetTop;}
else{x-=canvas.offsetLeft;y-=canvas.offsetTop;}}
else if(ev.layerX||ev.layerX==0){x=ev.layerX;y=ev.layerY;if(ev.changedTouches){x=ev.changedTouches[0].pageX;y=ev.changedTouches[0].pageY;}}
else if(ev.offsetX||ev.offsetX==0){x=ev.offsetX;y=ev.offsetY;}
else if(ev.pageX||ev.pageX==0){x=ev.pageX;y=ev.pageY;if(!ev.changedTouches){y-=canvas.offsetTop;x-=canvas.offsetLeft;}}
else{x=0;y=0;}
if(this._debug){}
if(ig.ua.mobile){x*=this.mobilizer.getScreenRatioWidth();y*=this.mobilizer.getScreenRatioHeight();}
return{x:x,y:y};}});TouchEntity=ig.Entity.extend({touchable:true,checkIfClicked:function(x,y){if(x>this.pos.x&&x<this.pos.x+this.size.x&&y>this.pos.y&&y<this.pos.y+this.size.y){this.pressed();}},pressed:function(){},kill:function(){this.parent();var touchController=new TouchControls(ig.system.canvas);touchController.touchEntities.erase(this);}});Mobilizer=ig.Class.extend({landscapeOnly:false,portraitOnly:false,wasPortrait:-1,wasLandscape:-1,init:function(x,y,orientation){if(orientation&&orientation=='portrait'){this.portraitOnly=true;this.landscapeOnly=false;}
else if(orientation&&orientation=='landscape'){this.landscapeOnly=true;this.portraitOnly=false;}},mobilize:function(){var canvas=document.getElementById('canvas');if(canvas){canvas.style.width=window.innerWidth+'px';canvas.style.height=window.innerHeight+'px';}
window.addEventListener('orientationchange',this.checkOrientation,false);window.addEventListener('resize',this.checkOrientation,false);this.checkOrientation(this);},getScreenRatioWidth:function(){return ig.system.width/window.innerWidth;},getScreenRatioHeight:function(){return ig.system.height/window.innerHeight;},update:function(){},checkOrientation:function(mobilizerRef){var therp=null;if(mobilizerRef){therp=mobilizerRef;}
else{therp=ig.game.touchController.mobilizer;}
var isLandscape=(window.innerHeight<window.innerWidth);if(isLandscape===therp.wasLandscape){}
else{if(!isLandscape){document.getElementById('canvas').style.display="none";document.getElementById('rotate').style.display="block";}
else if(isLandscape&&!therp.wasLandscape){document.getElementById('canvas').style.display="block";document.getElementById('rotate').style.display="none";var canvas=document.getElementById('canvas');if(canvas){canvas.style.width=window.innerWidth+'px';canvas.style.height=window.innerHeight+'px';}}}
therp.wasLandscape=isLandscape;}});AButton=ig.Class.extend({name:'name_empty',isPersistent:false,action:null,pos:{x:0,y:0},size:{x:1,y:1},offset:{x:0,y:0},_debug:false,_strokeColor:'rgba(0,0,255,0.8)',_strokeColorPressed:'rgba(255,0,0,0.8)',_strokeSize:1,animSheet:null,anims:{},currentAnim:null,isPressed:false,pressedEventId:null,quick:true,init:function(x,y,settings){this.pos.x=x;this.pos.y=y;ig.merge(this,settings);if(this.animSheet){this.addAnim('regular',0.1,[0],true);this.addAnim('mouseDown',0.1,[1],true);}},draw:function(){if(this._debug){var canvas=ig.system.canvas;var context=ig.system.context;context.save();var color=(!this.isPressed)?this._strokeColor:this._strokeColorPressed;context.strokeStyle=color;context.lineWidth=this._strokeSize;context.strokeRect(this.pos.x,this.pos.y,this.size.x,this.size.y);context.restore();}
if(this.currentAnim){this.currentAnim.draw(this.pos.x-this.offset.x,this.pos.y-this.offset.y);}},addAnim:function(name,frameTime,sequence,stop){if(!this.animSheet){throw('No animSheet to add the animation '+name+' to.');}
var a=new ig.Animation(this.animSheet,frameTime,sequence,stop);this.anims[name]=a;if(!this.currentAnim){this.currentAnim=a;}
return a;},pressed:function(){ig.input.presses[this.action]=true;},mouseDown:function(){this.isPressed=true;this.currentAnim=this.anims.mouseDown;if(this.quick){this.pressed();}},mouseUp:function(){if(!this.quick){this.pressed();}
this.isPressed=false;this.clearMouseDown();},clearMouseDown:function(){this.isPressed=false;this.currentAnim=this.anims.regular;},checkIfClicked:function(x,y){if(x>this.pos.x&&x<this.pos.x+this.size.x&&y>this.pos.y&&y<this.pos.y+this.size.y){this.pressed();}},checkIfMouseDown:function(x,y){if(x>this.pos.x&&x<this.pos.x+this.size.x&&y>this.pos.y&&y<this.pos.y+this.size.y){this.mouseDown();}},checkIfMouseUp:function(x,y){if(x>this.pos.x&&x<this.pos.x+this.size.x&&y>this.pos.y&&y<this.pos.y+this.size.y&&this.isPressed){this.mouseUp();}
this.clearMouseDown();}});Joystick=ig.Class.extend({pos:{x:0,y:0},thumbPos:{x:0,y:0},color:'rgba(255,0,0,0.5)',thumbColor:'rgba(0,0,230,0.5)',radius:40,thumbRadius:30,strokeSize:9,arc360:Math.PI*2,touchId:null,init:function(x,y,id){this.pos.x=x;this.pos.y=y;this.thumbPos=this.pos;this.touchId=id;},draw:function(){this.drawBase();this.drawThumb();},update:function(){},drawBase:function(){var canvas=ig.system.canvas;var context=ig.system.context;context.beginPath();context.arc(this.pos.x,this.pos.y,this.radius,0,this.arc360);context.lineWidth=this.strokeSize;context.strokeStyle=this.color;context.stroke();},drawThumb:function(){var canvas=ig.system.canvas;var context=ig.system.context;context.beginPath();context.arc(this.thumbPos.x,this.thumbPos.y,this.thumbRadius,0,this.arc360);context.lineWidth=this.strokeSize;context.strokeStyle=this.thumbColor;context.stroke();}});JoystickArea=AButton.extend({joystick:null,pressed:function(){ig.input.presses[this.action]=true;},mouseDown:function(){this.isPressed=true;},clearMouseDown:function(id){var touchController=new TouchControls(ig.system.canvas);if(touchController.joystick&&id==touchController.joystick.touchId){delete(touchController.joystick);ig.input.actions['left']=false;ig.input.actions['right']=false;}
this.isPressed=false;},checkIfClicked:function(x,y){if(x>this.pos.x&&x<this.pos.x+this.size.x&&y>this.pos.y&&y<this.pos.y+this.size.y){this.pressed();}},checkIfMouseDown:function(x,y,id){if(x>this.pos.x&&x<this.pos.x+this.size.x&&y>this.pos.y&&y<this.pos.y+this.size.y){var touchController=new TouchControls(ig.system.canvas);touchController.makeJoystick(x,y,id);this.isPressed=true;}},checkIfMouseUp:function(x,y,id){this.clearMouseDown(id);}});ig.Game.inject({spawnTouchEntity:function(type,x,y,settings){var touchController=new TouchControls(ig.system.canvas);var entityClass=typeof(type)==='string'?ig.global[type]:type;if(!entityClass){throw("can't spawn touch entity of type "+type);}
var ent=ig.game.spawnEntity(entityClass,x,y,settings);if(ent.touchable){touchController.touchEntities.push(ent);}
return ent;},})
TouchControls.instance=null;});

// lib/game/misc/playbutton.js
ig.baked=true;ig.module('game.misc.playbutton').requires('plugins.touchcontrols').defines(function(){PlayButton=AButton.extend({animSheet:new ig.AnimationSheet('media/playbutton.png',256,128),action:'play',size:{x:256,y:128},quick:false,time:.8,timer:null,startPos:{x:1080,y:175},endPos:{x:112,y:175},floatAroundTimer:null,omega:{x:.5,y:1.5},amplitude:{x:10,y:3},init:function(x,y,settings){this.parent(x,y,settings);this.timer=new ig.Timer(this.time);this.pos.x=this.startPos.x;this.pos.y=this.startPos.y;this.floatAroundTimer=new ig.Timer();},update:function(){if(this.timer&&this.timer.delta()<0){this.pos.x=this.timer.delta().quarticEaseIn(-this.time,0,this.startPos.x,this.endPos.x);}
else if(this.timer&&this.timer.delta()>=0){this.pos.x=this.endPos.x;this.timer=null;}
else if(this.floatAroundTimer){this.pos.x=this.endPos.x+this.amplitude.x*Math.cos(this.omega.x*this.floatAroundTimer.delta());this.pos.y=this.endPos.y+this.amplitude.y*Math.sin(this.omega.y*this.floatAroundTimer.delta());}}});});

// lib/game/misc/gravityflipbutton.js
ig.baked=true;ig.module('game.misc.gravityflipbutton').requires('plugins.touchcontrols').defines(function(){GravityflipButton=AButton.extend({action:'gravityflip',quick:true,init:function(x,y,settings){this.parent(x,y,settings);this.size.x=ig.system.width;this.size.y=ig.system.height;}});});

// lib/game/scenes/menuscene.js
ig.baked=true;ig.module('game.scenes.menuscene').requires('plugins.scene_manager','game.misc.playbutton','game.misc.gravityflipbutton').defines(function(){MenuScene=Scene.extend({playButton:null,gravityFlipButton:null,menuGraphic:null,init:function(){this.parent('menu scene');},update:function(){this.parent();if(ig.input.pressed('play')){ig.game.sceneManager.pushScene(new RunningScene());}},draw:function(){},onEntry:function(){this.parent();this.playButton=ig.game.touchController.addButton(PlayButton,0,0);ig.game.spawnEntity(EntityTitlegraphic,80,0);ig.game.showScore=false;},onExit:function(){this.parent();ig.game.touchController.removeButton(this.playButton);ig.game.showScore=true;}});});

// lib/game/misc/pausebutton.js
ig.baked=true;ig.module('game.misc.pausebutton').requires('plugins.touchcontrols').defines(function(){ButtonPause=AButton.extend({action:'pause',animSheet:new ig.AnimationSheet('media/pause.png',40,40),size:{x:40,y:40},quick:false,});ButtonUnpause=ButtonPause.extend({size:{x:256,y:128},animSheet:new ig.AnimationSheet('media/unpause.png',256,128)});});

// lib/game/misc/hearts.js
ig.baked=true;ig.module('game.misc.hearts').requires('impact.impact','impact.animation').defines(function(){Heart=ig.Class.extend({animSheet:new ig.AnimationSheet('media/hearts.png',30,30),pos:{x:0,y:0},currentAnim:null,lifeAnim:null,deathAnim:null,init:function(x,y){this.pos.x=x;this.pos.y=y;this.lifeAnim=new ig.Animation(this.animSheet,0.1,[0]);this.deathAnim=new ig.Animation(this.animSheet,0.1,[1]);this.currentAnim=this.lifeAnim;},draw:function(){this.currentAnim.draw(this.pos.x,this.pos.y);},deactivate:function(){this.currentAnim=this.deathAnim;},activate:function(){this.currentAnim=this.lifeAnim;}});Hearts=ig.Class.extend({pos:{x:0,y:0},hearts:[],init:function(x,y){this.pos.x=x;this.pos.y=y;for(var i=0;i<3;i++){this.hearts.push(new Heart(this.pos.x+30*i,this.pos.y));}},draw:function(){for(var j=0;j<this.hearts.length;j++){this.hearts[j].draw();}},activateAll:function(){for(var n=0;n<this.hearts.length;n++){this.hearts[n].activate();}}});});

// lib/game/scenes/runningscene.js
ig.baked=true;ig.module('game.scenes.runningscene').requires('plugins.scene_manager','game.misc.pausebutton','game.misc.hearts').defines(function(){RunningScene=Scene.extend({gravityFlipButton:null,pauseButton:null,heartContainer:new Hearts(360,287),init:function(){this.parent('running scene');var LevelRunninglevelcopy=null;LevelRunninglevelcopy=JSON.parse(JSON.stringify(LevelRunninglevel));ig.game.loadLevel(LevelRunninglevelcopy);},update:function(){this.checkAndScrollScreen();if(!ig.game.getEntityByName('runningthing')){var monsterGenerator=ig.game.getEntityByName('monstergenerator');if(monsterGenerator){monsterGenerator.deactivate();}}
if(ig.input.pressed('pause')){ig.game.pause();}},draw:function(){this.heartContainer.draw();},onEntry:function(){var LevelRunninglevelcopy=null;LevelRunninglevelcopy=JSON.parse(JSON.stringify(LevelRunninglevel));ig.game.loadLevel(LevelRunninglevelcopy);ig.game.sortEntitiesDeferred();ig.game.clearColor='#e5dfca';this.gravityFlipButton=ig.game.touchController.addButton(GravityflipButton,0,45);this.pauseButton=ig.game.touchController.addButton(ButtonPause,ig.system.width-40,0);this.heartContainer.activateAll();},onExit:function(){ig.game.clearColor='#000000';ig.game.touchController.removeButton(this.gravityFlipButton);ig.game.touchController.removeButton(this.pauseButton);},checkAndScrollScreen:function(){if(ig.game.screen.x>ig.game.collisionMap.tilesize*ig.game.collisionMap.width/2){var collMap=ig.game.collisionMap;var mapShift=Math.floor(collMap.tilesize*collMap.width/2);ig.game.screen.x-=mapShift;for(var j=0;j<ig.game.entities.length;j++){ig.game.entities[j].pos.x-=mapShift;}}
for(var i=0;i<ig.game.backgroundMaps.length;i++){}}});});

// lib/game/misc/playagainbutton.js
ig.baked=true;ig.module('game.misc.playagainbutton').requires('plugins.touchcontrols').defines(function(){PlayAgainButton=AButton.extend({_debug:false,animSheet:new ig.AnimationSheet('media/playagain.png',256,128),action:'restart',size:{x:256,y:128},quick:false,floatAroundTimer:null,omega:{x:.5,y:1.5},amplitude:{x:10,y:3},endPos:{x:0,y:0},init:function(x,y,settings){this.parent(x,y,settings);this.floatAroundTimer=new ig.Timer();this.endPos.x=this.pos.x;this.endPos.y=this.pos.y;},update:function(){if(this.floatAroundTimer){this.pos.x=this.endPos.x+this.amplitude.x*Math.cos(this.omega.x*this.floatAroundTimer.delta());this.pos.y=this.endPos.y+this.amplitude.y*Math.sin(this.omega.y*this.floatAroundTimer.delta());}}});});

// lib/game/scenes/deathscene.js
ig.baked=true;ig.module('game.scenes.deathscene').requires('plugins.scene_manager','game.misc.playagainbutton').defines(function(){DeathScene=Scene.extend({restartButton:null,gameOverTime:2,gameOverTimer:null,init:function(){this.parent('death scene');},update:function(){if(ig.input.pressed('restart')){ig.log(ig.game.sceneManager.sceneStack);ig.game.sceneManager.popToRootScene();ig.game.sceneManager.pushScene(new RunningScene());ig.game.score=0;}
if(this.gameOverTimer&&this.gameOverTimer.delta()>=0){this.gameOverTimer=null;this.gameOver();}},draw:function(){var runningScene=ig.game.sceneManager.sceneStack[ig.game.sceneManager.sceneStack.length-2];if(runningScene&&runningScene.heartContainer){runningScene.heartContainer.draw();}},onEntry:function(){ig.game.clearColor='#e5dfca';this.gameOverTimer=new ig.Timer(this.gameOverTime);if(ig.adHandler&&ig.adHandler.adSelector){ig.adHandler.unhideAd();}},onExit:function(){ig.game.clearColor='#000000';ig.game.touchController.removeButton(this.restartButton);if(ig.adHandler&&ig.adHandler.adSelector){ig.adHandler.hideAd();}},gameOver:function(){this.restartButton=ig.game.touchController.addButton(PlayAgainButton,100,100);}});});

// lib/game/entities/player.js
ig.baked=true;ig.module('game.entities.player').requires('impact.entity').defines(function(){EntityPlayer=ig.Entity.extend({name:'runningthing',zIndex:-10,gravityFactor:3,collides:ig.Entity.COLLIDES.NEVER,type:ig.Entity.TYPE.A,maxVel:{x:600,y:600},size:{x:12,y:28},offset:{x:36,y:35},regularOffset:{x:36,y:35},flippedOffset:{x:36,y:17},bounciness:.3,animSheet:new ig.AnimationSheet('media/player.png',80,80),health:3,maxHealth:3,invincibleTimer:null,init:function(x,y,settings){this.parent(x,y,settings);this.addAnim('running',0.1,[5,6,7,6,5],false);this.addAnim('justbeenhit',0.05,[3,3,3,4,4,4],false);this.anims.justbeenhit.alpha=0.3;},update:function(){this.parent();if(this.vel.x<450){this.accel.x=12;}
else{this.accel.x=8;}
if(ig.input.pressed('gravityflip')&&!ig.game.paused){this.flipGravity();}
if(this.invincibleTimer&&this.invincibleTimer.delta()>=0){this.deactivateInvincibleMode();}},draw:function(){this.parent();},flipGravity:function(){if(this.gravityFactor>0){this.offset=this.flippedOffset;}
else{this.offset=this.regularOffset;}
this.gravityFactor*=-1;this.currentAnim.flip.y=!this.currentAnim.flip.y;},die:function(){this.kill();ig.game.spawnEntity(EntityPlayerDeath,this.pos.x,this.pos.y,{vel:{x:this.vel.x,y:0}});},hit:function(){if(!this.invincibleTimer){ig.game.screenFader.fadeBegin('#fff',0.1,1,0);this.health--;if(ig.game.sceneManager.getTopScene().heartContainer){ig.game.sceneManager.getTopScene().heartContainer.hearts[this.maxHealth-this.health-1].deactivate();}
if(this.health<=0){this.die();}
else{this.activateInvincibleMode(1.5);}}},activateInvincibleMode:function(time){this.invincibleTimer=new ig.Timer(time);this.currentAnim=this.anims.justbeenhit.rewind();this.currentAnim.flip.y=this.anims.running.flip.y;},deactivateInvincibleMode:function(){this.invincibleTimer=null;this.currentAnim=this.anims.running;this.currentAnim.flip.y=this.anims.justbeenhit.flip.y;},handleMovementTrace:function(res){ig.game.score+=(res.pos.x-this.pos.x)/ig.game.pixelsPerPoint;this.parent(res);}});EntityPlayerDeathParticle=ig.Entity.extend({gravityFactor:0,lifeTime:8,lifeTimer:null,size:{x:4,y:4},offset:{x:18,y:18},maxVel:{x:1000,y:1000},animSheet:new ig.AnimationSheet('media/player.png',40,40),collides:ig.Entity.COLLIDES.NEVER,alpha:0.6,init:function(x,y,settings){this.parent(x,y,settings);this.addAnim('sploding',0.1,[7,6,5,4,5,6],false);this.currentAnim.alpha=this.alpha;this.lifeTimer=new ig.Timer(this.lifeTime);},handleMovementTrace:function(res){this.pos.x+=this.vel.x*ig.system.tick;this.pos.y+=this.vel.y*ig.system.tick;},update:function(){this.parent();if(this.lifeTimer&&this.lifeTimer.delta()>=0){this.kill();}}});EntityPlayerDeath=ig.Entity.extend({gravityFactor:0,animSheet:new ig.AnimationSheet('media/player.png',80,80),lifeTime:1.2,lifeTimer:null,size:{x:20,y:26},offset:{x:31,y:30},maxVel:{x:700,y:700},friction:{x:500,y:100},explodeTimer:null,explodeTime:1.0,init:function(x,y,settings){this.parent(x,y,settings);this.addAnim('dying',0.05,[2,2,2,3,3,3,4,4,4,3,3,4,4,3,4,3,4,3,4,3,4,3,4,3,4,3,4,3,4],true);this.lifeTimer=new ig.Timer(this.lifeTime);this.explodeTimer=new ig.Timer(this.explodeTime);},update:function(){this.parent();if(this.lifeTimer&&this.lifeTimer.delta()>=0){this.kill();}
else if(this.lifeTimer){this.currentAnim.alpha=this.lifeTimer.delta().map(-this.lifeTime,0,1,0);}
if(this.explodeTimer&&this.explodeTimer.delta()>=0){this.explode();this.explodeTimer=null;}},explode:function(){var speed=100;var angles=[0,Math.PI,Math.PI/3,4*Math.PI/3,2*Math.PI/3,5*Math.PI/3];for(var i=1;i<3;i++){for(var j=0;j<angles.length;j++){ig.game.spawnEntity(EntityPlayerDeathParticle,this.pos.x+this.size.x/2-2,this.pos.y+this.size.y/2-2,{vel:{x:i*speed*Math.cos(angles[j]),y:i*speed*Math.sin(angles[j])}});}}
ig.log('vel.x = '+this.vel.x);}})});

// lib/game/entities/camera.js
ig.baked=true;ig.module('game.entities.camera').requires('impact.entity').defines(function(){EntityCamera=ig.Entity.extend({name:'camera',zIndex:-5,gravityFactor:0,size:{x:2,y:2},friction:{x:500,y:100},player:null,collides:ig.Entity.COLLIDES.NEVER,init:function(x,y,settings){this.parent(x,y,settings);this.player=ig.game.getEntityByName('runningthing');},update:function(){this.player=ig.game.getEntityByName('runningthing');if(this.player){this.pos.x=this.player.pos.x;this.pos.y=this.player.pos.y;this.vel.x=this.player.vel.x;this.vel.y=0;}
else{this.parent();}
ig.game.screen.x=this.pos.x-80;if(this.vel.x==0){ig.game.sceneManager.pushScene(new DeathScene());this.kill();}},});});

// lib/game/entities/monster.js
ig.baked=true;ig.module('game.entities.monster').requires('impact.entity').defines(function(){EntityMonster=ig.Entity.extend({checkAgainst:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,gravityFactor:0,size:{x:21,y:12},offset:{x:4,y:8},maxVel:{x:500,y:500},animSheet:new ig.AnimationSheet('media/skulls.png',28,28),check:function(otherEntity){if(otherEntity.name==='runningthing'){otherEntity.hit();}},update:function(){this.parent();if(this.pos.x<ig.game.screen.x-200){this.kill();}}});});

// lib/game/entities/roboskull3.js
ig.baked=true;ig.module('game.entities.roboskull3').requires('game.entities.monster').defines(function(){EntityRoboskull3=EntityMonster.extend({floatTimer:null,omega:7,amplitude:30,baseLevel:0,phi:0,init:function(x,y,settings){this.parent(x,y,settings);this.baseLevel=this.pos.y;this.addAnim('floaty',0.031,[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],false);this.floatTimer=new ig.Timer(0);this.currentAnim.gotoRandomFrame();},update:function(){this.pos.y=this.baseLevel+this.amplitude*(Math.cos(this.omega*this.floatTimer.delta()+this.phi));this.parent();}});});

// lib/game/entities/monstergenerator.js
ig.baked=true;ig.module('game.entities.monstergenerator').requires('impact.entity','impact.impact').defines(function(){MonsterPattern=ig.Class.extend({nextPattern:null,generator:null,init:function(entity){this.generator=entity;},update:function(){return this.nextPattern;}});LineOf5Pattern=MonsterPattern.extend({time:1.01,timer:null,spawnTime:.20,spawnTimer:null,ySpawnPosList:[50,152,254],ySpawnPos:0,init:function(entity){this.parent(entity);this.ySpawnPos=this.ySpawnPosList.random();this.timer=new ig.Timer(this.time);this.spawnTimer=new ig.Timer(this.spawnTime);},update:function(){if(this.timer&&this.timer.delta()>=0){this.nextPattern=new WaitPattern(this.generator);}
if(this.spawnTimer&&this.spawnTimer.delta()>=0){ig.game.spawnEntity(EntityRoboskull1,this.generator.pos.x,this.ySpawnPos);this.spawnTimer.reset();}}});LargeTunnel=MonsterPattern.extend({time:.91,timer:null,spawnTime:.18,spawnTimer:null,ySpawnPosList:[50,254],init:function(entity){this.parent(entity);this.timer=new ig.Timer(this.time);this.spawnTimer=new ig.Timer(this.spawnTime);},update:function(){if(this.timer&&this.timer.delta()>=0){this.nextPattern=new WaitPattern(this.generator);}
if(this.spawnTimer&&this.spawnTimer.delta()>=0){for(var i=0;i<this.ySpawnPosList.length;i++){ig.game.spawnEntity(EntityRoboskull1,this.generator.pos.x,this.ySpawnPosList[i]);}
this.spawnTimer.reset();}}});LongTunnel=LargeTunnel.extend({time:1.51,spawnTime:.15,})
SmallTunnel=LargeTunnel.extend({ySpawnPosList:[40,70,234,264],});Skull2LargeOpening=MonsterPattern.extend({positions:[60,156,244],init:function(entity){this.parent(entity);this.positions.erase(this.positions.random());},update:function(){for(var i=0;i<this.positions.length;i++){ig.game.spawnEntity(EntityRoboskull2,this.generator.pos.x,this.positions[i],{vel:{x:-400,y:0}});}
this.nextPattern=new WaitPattern(this.generator,4);this.parent();}});Skull2SmallOpening=MonsterPattern.extend({positions:[60,96.8,133.6,170.4,207.2,244],init:function(entity){this.parent(entity);if(Math.random()>0.5){this.positions.pop();}
else{this.positions.shift();}},update:function(){for(var i=0;i<this.positions.length;i++){ig.game.spawnEntity(EntityRoboskull2,this.generator.pos.x,this.positions[i],{vel:{x:-400,y:0}});}
this.nextPattern=new WaitPattern(this.generator,4);this.parent();}});Skull2Cascade=MonsterPattern.extend({spawnTime:.6,spanwTimer:null,positions:[60,96.8,133.6,170.4,207.2,244],counter:0,n:0,direction:1,init:function(entity){this.parent(entity);if(Math.random()>.5){this.n=0;this.direction=1;}
else{this.n=this.positions.length-1;this.direction=-1;}
this.spawnTimer=new ig.Timer(this.spawnTime);},update:function(){if(this.spawnTimer&&this.spawnTimer.delta()>=0){ig.game.spawnEntity(EntityRoboskull2,this.generator.pos.x,this.positions[this.n],{vel:{x:-400,y:0}});this.n+=this.direction;this.spawnTimer.reset();}
if(this.n<0||this.n>=this.positions.length){this.nextPattern=new WaitPattern(this.generator,4);}
this.parent();}});Skull2Tutorial=MonsterPattern.extend({position:156,update:function(){ig.game.spawnEntity(EntityRoboskull2,this.generator.pos.x,this.position,{vel:{x:-400,y:0}});this.nextPattern=new WaitPattern(this.generator,4);this.parent();}})
SinewavePattern1=MonsterPattern.extend({n:1,wait:3,locations:[64,156,248],spread:60,phi:Math.random()*Math.PI*2,init:function(entity){this.parent(entity);this.locations=this.locations.random();},update:function(){for(var i=0;i<this.n;i++){ig.game.spawnEntity(EntityRoboskull3,this.generator.pos.x+this.spread*i,this.locations,{phi:this.phi});this.nextPattern=new WaitPattern(this.generator,this.wait);}
this.parent();}});SinewavePattern3=SinewavePattern1.extend({n:3});SinewavePattern6=SinewavePattern1.extend({n:6,wait:4});SinewavePattern5=SinewavePattern1.extend({n:5,wait:2.5})
WaitPattern=MonsterPattern.extend({time:3,timer:null,patternList:null,init:function(entity,time){this.parent(entity);if(time){this.time=time;}
this.timer=new ig.Timer(this.time);var monsterGenerator=ig.game.getEntityByName('monstergenerator');if(monsterGenerator){if(ig.game.score<=1500){this.patternList=monsterGenerator.ezMonsterPatterns;}
else{this.patternList=monsterGenerator.hardMonsterPatterns;}}},update:function(){if(this.timer&&this.timer.delta()>=0){this.nextPattern=new(this.patternList.random())(this.generator);}},handleMovementTrace:function(res){}});EntityMonstergenerator=ig.Entity.extend({name:'monstergenerator',gravityFactor:0,currentMonsterPattern:null,ezMonsterPatterns:[LineOf5Pattern,Skull2LargeOpening,LargeTunnel,Skull2Cascade],hardMonsterPatterns:[LineOf5Pattern,Skull2LargeOpening,Skull2SmallOpening,LargeTunnel,SmallTunnel,LongTunnel,Skull2Cascade,SinewavePattern3],init:function(x,y,settings){this.parent(x,y,settings);this.pos.x=ig.game.screen.x+ig.system.width;this.pos.y=0;this.size.x=40;this.size.y=ig.system.height;},update:function(){this.parent();this.pos.x=ig.game.screen.x+ig.system.width;if(this.currentMonsterPattern){this.currentMonsterPattern.update();}
if(this.currentMonsterPattern&&this.currentMonsterPattern.nextPattern){this.currentMonsterPattern=this.currentMonsterPattern.nextPattern;}},draw:function(){},handleMovementTrace:function(result){},activate:function(){this.currentMonsterPattern=new Skull2Tutorial(this);},deactivate:function(){this.currentMonsterPattern=null;}});});

// lib/game/entities/roboskull1.js
ig.baked=true;ig.module('game.entities.roboskull1').requires('game.entities.monster').defines(function(){EntityRoboskull1=EntityMonster.extend({init:function(x,y,settings){this.parent(x,y,settings);this.addAnim('floaty',0.1,[0,1,2,1,0,0],false);}});});

// lib/game/entities/mushroomgenerator.js
ig.baked=true;ig.module('game.entities.mushroomgenerator').requires('impact.entity').defines(function(){EntityMushroomgenerator=ig.Entity.extend({name:'mushroomgenerator',gravityFactor:0,minMushroomTimer:null,minMushroomTime:5,launchMushroomTimer:null,launchMushroomTime:5,maxMushroomSpeed:300,init:function(x,y,settings){this.parent(x,y,settings);this.pos.x=ig.game.screen.x+ig.system.width;this.pos.y=0;this.size.x=100;this.size.y=ig.system.height;this.minMushroomTimer=new ig.Timer(this.minMushroomTime);},update:function(){this.parent();this.pos.x=ig.game.screen.x+ig.system.width;if(this.minMushroomTimer&&this.minMushroomTimer.delta()>=0){this.launchMushroomTimer=new ig.Timer(Math.random()*this.launchMushroomTime);this.minMushroomTimer=null;}
else if(this.launchMushroomTimer&&this.launchMushroomTimer.delta()>=0){this.minMushroomTimer=new ig.Timer(this.minMushroomTime);this.launchMushroomTimer=null;this.launch();}},launch:function(){var angle=randomRange(Math.PI/4,-Math.PI/4);var gravityDirection=(Math.random()>.5)?1:-1;ig.game.spawnEntity(EntityMushroom,this.pos.x,randomRange(this.pos.y+100,this.pos.y+ig.system.height-100),{vel:{x:this.maxMushroomSpeed*Math.cos(angle),y:this.maxMushroomSpeed*Math.sin(angle)},gravityDirection:gravityDirection});}});});

// lib/game/entities/floatingtext.js
ig.baked=true;ig.module('game.entities.floatingtext').requires('impact.font','impact.entity').defines(function(){EntityFloatingtext=ig.Entity.extend({gravityFactor:0,size:{x:20,y:15},lifeTime:2,string:"string empty",lifeTimer:null,vel:{x:0,y:-70},font32:new ig.Font('media/editfont32.png'),startAlpha:1,currentalpha:1,endAlpha:0,size:24,init:function(x,y,settings){this.parent(x,y,settings);if(this.lifeTime>0){this.lifeTimer=new ig.Timer(this.lifeTime);}},update:function(){if(this.lifeTimer&&this.lifeTimer.delta()>=0){ig.log("time is up");this.kill();}
this.currentAlpha=(this.lifeTime+this.lifeTimer.delta()).map(0,this.lifeTime,this.startAlpha,this.endAlpha);this.parent();},handleMovementTrace:function(result){this.pos.x+=this.vel.x*ig.system.tick;this.pos.y+=this.vel.y*ig.system.tick;},draw:function(){var context=ig.system.context;if(this.currentAlpha!=1){context.globalAlpha=this.currentAlpha;}
this.font32.draw(this.string,this.pos.x-ig.game.screen.x,this.pos.y-ig.game.screen.y,ig.Font.ALIGN.CENTER);if(context.globalAlpha!=1){context.globalAlpha=1;}}});});

// lib/game/entities/generatortrigger.js
ig.baked=true;ig.module('game.entities.generatortrigger').requires('impact.entity').defines(function(){EntityGeneratortrigger=ig.Entity.extend({target:null,checkAgainst:ig.Entity.TYPE.A,size:{x:48,y:320},init:function(x,y,settings){this.parent(x,y,settings);this.target=ig.game.getEntityByName('monstergenerator');},check:function(otherEntity){if(otherEntity.name&&otherEntity.name=='runningthing'){this.target.activate();this.kill();}},handleMovementTrace:function(res){}})});

// lib/game/levels/runninglevel.js
ig.baked=true;ig.module('game.levels.runninglevel').requires('impact.image','game.entities.player','game.entities.camera','game.entities.roboskull3','game.entities.monstergenerator','game.entities.roboskull1','game.entities.mushroomgenerator','game.entities.floatingtext','game.entities.generatortrigger').defines(function(){LevelRunninglevel={"entities":[{"type":"EntityPlayer","x":80,"y":196,"settings":{"vel":{"x":100}}},{"type":"EntityCamera","x":100,"y":148},{"type":"EntityRoboskull3","x":1584,"y":248},{"type":"EntityMonstergenerator","x":1185,"y":0},{"type":"EntityRoboskull1","x":836,"y":52},{"type":"EntityMushroomgenerator","x":1185,"y":0},{"type":"EntityRoboskull1","x":788,"y":52},{"type":"EntityRoboskull1","x":932,"y":52},{"type":"EntityRoboskull1","x":2028,"y":52},{"type":"EntityRoboskull1","x":1984,"y":52},{"type":"EntityRoboskull1","x":1192,"y":252},{"type":"EntityRoboskull3","x":2356,"y":64},{"type":"EntityRoboskull1","x":1144,"y":252},{"type":"EntityRoboskull1","x":2592,"y":48},{"type":"EntityRoboskull1","x":1240,"y":252},{"type":"EntityRoboskull1","x":3032,"y":48},{"type":"EntityRoboskull3","x":1536,"y":248},{"type":"EntityFloatingtext","x":312,"y":288,"settings":{"vel":{"y":-50},"lifeTime":3,"string":"reverse gravity"}},{"type":"EntityRoboskull3","x":2236,"y":64},{"type":"EntityRoboskull3","x":2276,"y":64},{"type":"EntityRoboskull3","x":1492,"y":248},{"type":"EntityRoboskull1","x":1940,"y":52},{"type":"EntityGeneratortrigger","x":3152,"y":0},{"type":"EntityRoboskull1","x":2984,"y":260},{"type":"EntityRoboskull3","x":1628,"y":248},{"type":"EntityRoboskull3","x":2316,"y":64},{"type":"EntityRoboskull1","x":2984,"y":48},{"type":"EntityRoboskull1","x":3028,"y":260},{"type":"EntityRoboskull1","x":1096,"y":252},{"type":"EntityRoboskull1","x":3072,"y":260},{"type":"EntityRoboskull1","x":884,"y":52},{"type":"EntityRoboskull1","x":3076,"y":48},{"type":"EntityRoboskull1","x":2588,"y":260},{"type":"EntityRoboskull1","x":1900,"y":52},{"type":"EntityFloatingtext","x":304,"y":224,"settings":{"vel":{"y":-50},"string":"Tap Anywhere","lifeTime":3}},{"type":"EntityFloatingtext","x":300,"y":256,"settings":{"vel":{"y":-50},"string":"to","lifeTime":3}}],"layer":[{"name":"background2","width":30,"height":4,"linkWithCollision":false,"visible":1,"tilesetName":"media/background2.png","repeat":false,"preRender":true,"distance":"4","tilesize":80,"foreground":false,"data":[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,10,0,0,0,0,9,0,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[8,0,0,0,7,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{"name":"background1","width":60,"height":4,"linkWithCollision":false,"visible":1,"tilesetName":"media/background1.png","repeat":false,"preRender":true,"distance":"2","tilesize":80,"foreground":false,"data":[[1,2,3,4,1,2,3,4,5,2,1,2,3,4,4,5,3,4,1,2,1,2,3,5,1,4,5,5,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[7,8,9,10,7,8,9,10,11,8,7,8,9,10,10,11,9,10,7,8,7,8,9,11,7,10,11,11,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[13,14,15,16,13,14,15,16,17,14,13,14,15,16,16,17,15,16,13,14,13,14,15,17,13,16,17,17,16,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[19,20,21,22,19,20,21,22,23,20,19,20,21,22,22,23,21,22,19,20,19,20,21,23,19,22,23,23,22,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{"name":"collision","width":160,"height":8,"linkWithCollision":false,"visible":0,"tilesetName":"","repeat":false,"preRender":false,"distance":1,"tilesize":40,"foreground":false,"data":[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]},{"name":"foreground","width":160,"height":8,"linkWithCollision":false,"visible":1,"tilesetName":"media/groundtiles.png","repeat":false,"preRender":true,"distance":"1","tilesize":40,"foreground":false,"data":[[41,42,43,44,45,46,41,48,41,42,43,44,41,42,43,44,41,48,43,44,45,46,41,42,43,44,45,46,41,41,42,43,44,45,46,42,43,44,45,41,42,43,44,48,42,43,44,41,42,43,44,45,46,48,42,43,44,45,41,42,43,41,42,43,44,45,46,41,42,43,44,41,42,43,41,42,43,44,45,46,41,42,43,44,45,46,41,48,41,42,43,44,41,42,43,44,41,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[49,50,51,52,53,54,49,50,49,50,51,52,49,50,51,52,49,56,51,52,53,54,49,50,51,52,53,54,49,49,50,51,52,53,54,50,51,52,53,49,50,51,52,56,50,51,52,49,50,51,52,53,54,56,50,51,52,53,49,50,51,49,50,51,52,53,54,49,50,51,52,49,50,51,49,50,51,52,53,54,49,50,51,52,53,54,49,50,49,50,51,52,49,50,51,52,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,4,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,9,10,11,15,12,13,0,14,0,10,11,9,9,10,11,12,13,0,0,14,15,16,0,9,10,11,15,16,0,14,0,9,0,10,11,9,0,0,15,15,16,0,14,12,13,0,9,0,0,12,13,15,16,14,15,16,0,0,9,15,12,13,0,0,0,12,13,0,15,16,9,0,14,0,0,0,15,16,12,0,9,10,11,15,12,13,0,14,0,10,11,9,9,10,11,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[24,18,17,17,17,17,18,19,20,21,22,17,18,19,20,21,22,17,18,19,20,21,17,18,24,20,21,17,18,19,20,21,22,23,17,17,18,19,20,21,22,23,22,23,17,17,18,19,20,21,24,23,17,17,18,19,20,21,22,17,18,19,20,21,22,17,18,19,20,17,18,19,20,17,18,19,20,21,22,23,24,18,17,17,17,17,18,19,20,21,22,17,18,19,20,21,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}]};LevelRunninglevelResources=[new ig.Image('media/background2.png'),new ig.Image('media/background1.png'),new ig.Image('media/groundtiles.png')];});

// lib/game/entities/roboskull2.js
ig.baked=true;ig.module('game.entities.roboskull2').requires('game.entities.monster').defines(function(){EntityRoboskull2=EntityMonster.extend({waitTime:2,waitTimer:null,friction:{x:900,y:0},maxVel:{x:700,y:500},init:function(x,y,settings){this.parent(x,y,settings);this.addAnim('floaty',0.06,[23,23,23,23,19,20,21,22,22,22,22,21,20,19],false);this.waitTimer=new ig.Timer(this.waitTime);},update:function(){this.parent();if(this.waitTimer&&this.waitTimer.delta()>=0){this.waitTimer=null;this.accel.x=-850;}
this.scrollSkull();},scrollSkull:function(){var player=ig.game.getEntityByName('runningthing');if(player){this.pos.x+=player.vel.x*ig.system.tick;}}});});

// lib/game/entities/mushroom.js
ig.baked=true;ig.module('game.entities.mushroom').requires('impact.entity').defines(function(){EntityMushroom=ig.Entity.extend({gravityFactor:3,bounciness:1,maxVel:{x:500,y:500},animSheet:new ig.AnimationSheet('media/mushroom.png',40,40),flareAnimSheet:new ig.AnimationSheet('media/mushroom.png',80,80),flareAnim:null,value:100,checkAgainst:ig.Entity.TYPE.A,offset:{x:7,y:10},size:{x:26,y:26},flareOffset:{x:28,y:28},gravityDirection:1,init:function(x,y,settings){this.parent(x,y,settings);this.addAnim('bouncing',0.1,[0],true);this.flareAnim=new ig.Animation(this.flareAnimSheet,0.1,[3,4,5,6,7,8],false);this.gravityFactor*=this.gravityDirection;},update:function(){this.parent();this.flareAnim.update();},draw:function(){this.flareAnim.draw(this.pos.x-ig.game.screen.x-this.flareOffset.x,this.pos.y-ig.game.screen.y-this.flareOffset.y);this.parent();},check:function(otherEntity){if(otherEntity&&otherEntity.name==='runningthing'){ig.game.score+=this.value;ig.game.spawnEntity(EntityFloatingtext,this.pos.x,this.pos.y,{string:"+"+this.value});this.kill();}}});});

// lib/game/entities/titlegraphic.js
ig.baked=true;ig.module('game.entities.titlegraphic').requires('impact.entity').defines(function(){EntityTitlegraphic=ig.Entity.extend({gravityFactor:0,animSheet:new ig.AnimationSheet('media/title.png',320,320),size:{x:320,y:320},startPos:{x:-320,y:0},endPos:{x:80,y:0},time:0.4,timer:null,init:function(x,y,settings){this.parent(x,y,settings);this.addAnim('default',0.1,[0],true);this.pos.x=this.startPos.x;this.pos.y=this.startPos.y;this.timer=new ig.Timer(this.time);},update:function(){this.parent();if(this.timer&&this.timer.delta()<0){this.pos.x=this.timer.delta().quarticEaseIn(-this.time,0,this.startPos.x,this.endPos.x);}
else{this.pos.x=this.endPos.x;this.timer=null;}}});});

// lib/game/caverndash.js
ig.baked=true;ig.module('game.caverndash').requires('impact.game','impact.font','plugins.timeslower','plugins.screenfader','plugins.screenshaker','plugins.scene_manager','plugins.impact-splash-loader','plugins.utilities','plugins.touchcontrols','game.scenes.menuscene','game.scenes.runningscene','game.scenes.deathscene','game.levels.runninglevel','game.entities.player','game.entities.camera','game.entities.roboskull1','game.entities.roboskull2','game.entities.roboskull3','game.entities.monstergenerator','game.entities.generatortrigger','game.entities.mushroom','game.entities.mushroomgenerator','game.entities.floatingtext','game.entities.titlegraphic').defines(function(){MyGame=ig.Game.extend({font:new ig.Font('media/04b03.font.png'),scoreFont:new ig.Font('media/editfont32.png'),sceneManager:new SceneManager(),touchController:null,timeSlower:new TimeSlower(),screenFader:null,gravity:200,score:0,pixelsPerPoint:20,showScore:false,paused:false,unpauseButton:null,init:function(){if(ig.ua.mobile){window.scrollTo(0,0);}
this.touchController=new TouchControls(ig.system.canvas);this.sceneManager.pushScene(new MenuScene());this.screenFader=new ScreenFader();},update:function(){if(ig.ua.mobile){window.scrollTo(0,0);}
this.parent();this.touchController.update();this.sceneManager.updateScene();this.timeSlower.update();},draw:function(){this.parent();this.sceneManager.drawScene();this.touchController.draw();this.screenFader.draw();if(this.showScore){this.scoreFont.draw("Score: "+Math.floor(this.score),0,0);}},pause:function(){if(!this.paused){this.paused=true;ig.Timer.timeScale=0;this.unpauseButton=this.touchController.addButton(ButtonUnpause,112,150);}
else{this.unpause();}},unpause:function(){this.paused=false;ig.Timer.timeScale=1;this.touchController.removeButton(this.unpauseButton);}});ig.main('#canvas',MyGame,60,480,320,1,ig.ImpactSplashLoader);});
